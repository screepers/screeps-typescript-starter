module.exports = {"version":3,"file":"main.js","sources":["../src/Managers/EmpireManager.ts","../src/utils/Constants.ts","../src/Helpers/MemoryHelper_Room.ts","../src/utils/config.ts","../src/Api/Memory.Api.ts","../src/Managers/MemoryManagement.ts","../src/Managers/RoomManager.ts","../src/utils/constants.ts","../src/utils/UserException.ts","../src/Helpers/RoomHelper.ts","../src/Helpers/SpawnHelper.ts","../src/Helpers/MemoryHelper.ts","../src/Api/Spawn.Api.ts","../src/Managers/SpawnManager.ts","../node_modules/source-map/lib/base64.js","../node_modules/source-map/lib/base64-vlq.js","../node_modules/source-map/lib/util.js","../node_modules/source-map/lib/array-set.js","../node_modules/source-map/lib/binary-search.js","../node_modules/source-map/lib/quick-sort.js","../node_modules/source-map/lib/source-map-consumer.js","../node_modules/source-map/source-map.js","../src/utils/ErrorMapper.ts","../src/Helpers/UtilHelper.ts","../src/main.ts"],"sourcesContent":["// empire-wide manager\r\nexport default class EmpireManager{\r\n    \r\n    /**\r\n     * run the empire for the AI\r\n     */\r\n    public static runEmpireManager(): void{\r\n        console.log(\"running empire\")\r\n    }\r\n}","// Room State Constants\r\nexport const ROOM_STATE_INTRO = 0;\r\nexport const ROOM_STATE_BEGINNER = 1;\r\nexport const ROOM_STATE_INTER = 2;\r\nexport const ROOM_STATE_ADVANCED = 3;\r\nexport const ROOM_STATE_UPGRADER = 4;\r\nexport const ROOM_STATE_SEIGE = 5;\r\nexport const ROOM_STATE_STIMULATE = 6;\r\nexport const ROOM_STATE_NUKE_INBOUND = 7;\r\n\r\n// Role Constants\r\nexport const ROLE_MINER = \"miner\";\r\nexport const ROLE_HARVESTER = \"harvester\";\r\nexport const ROLE_WORKER = \"worker\";\r\nexport const ROLE_POWER_UPGRADER = \"powerUpgrader\";\r\nexport const ROLE_LORRY = \"lorry\";\r\nexport const ROLE_REMOTE_MINER = \"remoteMiner\";\r\nexport const ROLE_REMOTE_HARVESTER = \"remoteHarvester\";\r\nexport const ROLE_REMOTE_RESERVER = \"remoteReserver\";\r\nexport const ROLE_REMOTE_DEFENDER = \"remoteDefender\";\r\nexport const ROLE_COLONIZER = \"remoteColonizer\";\r\nexport const ROLE_ZEALOT = \"zealot\";\r\nexport const ROLE_STALKER = \"stalker\";\r\nexport const ROLE_MEDIC = \"medic\";\r\n\r\n// Tier Constants\r\nexport const TIER_1 = 300;\r\nexport const TIER_2 = 550;\r\nexport const TIER_3 = 800;\r\nexport const TIER_4 = 1300;\r\nexport const TIER_5 = 1800;\r\nexport const TIER_6 = 2300;\r\nexport const TIER_7 = 5300;\r\nexport const TIER_8 = 12300;\r\n\r\n// Creep Body Layout Constants\r\nexport const GROUPED = \"grouped\";\r\nexport const COLLATED = \"collated\";\r\n\r\n// Role Priority List\r\n// * Keep this list ordered by spawn priority\r\nexport const domesticRolePriority: RoleConstant[] = [\r\n    ROLE_MINER,\r\n    ROLE_HARVESTER,\r\n    ROLE_WORKER,\r\n    ROLE_POWER_UPGRADER,\r\n    ROLE_LORRY\r\n];\r\n\r\n// * Keep this list ordered by spawn priority\r\nexport const remoteRolePriority: RoleConstant[] = [\r\n    ROLE_REMOTE_RESERVER,\r\n    ROLE_REMOTE_MINER,\r\n    ROLE_REMOTE_HARVESTER,\r\n    ROLE_REMOTE_DEFENDER,\r\n    ROLE_COLONIZER\r\n];\r\n\r\n// * Keep this list ordered by spawn priority\r\nexport const militaryRolePriority: RoleConstant[] = [ROLE_MEDIC, ROLE_STALKER, ROLE_ZEALOT];\r\n\r\n// List of every structure in the game\r\nexport const ALL_STRUCTURE_TYPES: StructureConstant[] = [\r\n    STRUCTURE_EXTENSION,\r\n    STRUCTURE_RAMPART,\r\n    STRUCTURE_ROAD,\r\n    STRUCTURE_SPAWN,\r\n    STRUCTURE_LINK,\r\n    STRUCTURE_WALL,\r\n    STRUCTURE_STORAGE,\r\n    STRUCTURE_TOWER,\r\n    STRUCTURE_OBSERVER,\r\n    STRUCTURE_POWER_SPAWN,\r\n    STRUCTURE_EXTRACTOR,\r\n    STRUCTURE_LAB,\r\n    STRUCTURE_TERMINAL,\r\n    STRUCTURE_CONTAINER,\r\n    STRUCTURE_NUKER,\r\n    STRUCTURE_KEEPER_LAIR,\r\n    STRUCTURE_CONTROLLER,\r\n    STRUCTURE_POWER_BANK,\r\n    STRUCTURE_PORTAL\r\n];\r\n\r\n// The Wall/Rampart HP Limit for each Controller level\r\nexport const WALL_LIMIT: number[] = [\r\n    0, // RCL 0\r\n    25000, // RCL 1\r\n    50000, // RCL 2\r\n    100000, // RCL 3\r\n    250000, // RCL 4\r\n    500000, // RCL 5\r\n    1000000, // RCL 6\r\n    1500000, // RCL 7\r\n    5000000 // RCL 8\r\n];\r\n\r\n// Cache Tick Limits\r\nexport const STRUCT_CACHE_TTL = 50; // Structures\r\nexport const SOURCE_CACHE_TTL = -1; // Sources\r\nexport const CONSTR_CACHE_TTL = 50; // Construction Sites\r\nexport const FCREEP_CACHE_TTL = 20; // Friendly Creep\r\nexport const HCREEP_CACHE_TTL = 1; // Hostile Creep\r\n// ? Should we change DEPNDT to be 3 seperate consts? Attack, Remote, Claim?\r\nexport const DEPNDT_CACHE_TTL = 50; // Dependent Rooms - Attack, Remote, Claim\r\n\r\n// Error Severity Constants\r\nexport const ERROR_FATAL = 3; // Very severe error - Game ruining\r\nexport const ERROR_ERROR = 2; // Regular error - Creep/Room ruining\r\nexport const ERROR_WARN = 1; // Small error - Something went wrong, but doesn't ruin anything\r\nexport const ERROR_INFO = 0; // Non-error - Used to log when something happens (e.g. memory is updated)\r\n\r\n// Color Constants\r\nexport const COLORS: any = {};\r\nCOLORS[ERROR_FATAL] = \"#FF0000\";\r\nCOLORS[ERROR_ERROR] = \"#E300FF\";\r\nCOLORS[ERROR_WARN] = \"#F0FF00\";\r\nCOLORS[ERROR_INFO] = \"#0045FF\";\r\n","import { ALL_STRUCTURE_TYPES } from \"utils/Constants\";\r\n\r\n/**\r\n * Contains all functions for initializing and updating room memory\r\n */\r\nexport default class MemoryHelper_Room {\r\n    /**\r\n     * Calls all the helper functions (that don't need additional input) to update room.memory.\r\n     * NOTE: This will update the entire memory tree, so use this function sparingly\r\n     * TODO Make sure this updates every aspect of room memory - currently does not\r\n     * @param room The room to update the memory of\r\n     */\r\n    public static updateRoomMemory(room: Room): void {\r\n        // Update All Creeps\r\n        this.updateHostileCreeps(room);\r\n        this.updateMyCreeps(room);\r\n        // Update structures/construction sites\r\n        this.updateConstructionSites(room);\r\n        this.updateStructures(room);\r\n        // Update sources, minerals, energy, tombstones\r\n        this.updateSources(room);\r\n        this.updateMinerals(room);\r\n        this.updateDroppedEnergy(room);\r\n        this.updateTombstones(room);\r\n        // Update Custom Memory Components\r\n        this.updateDependentRooms(room);\r\n    }\r\n\r\n    /**\r\n     * Update room memory for all dependent room types\r\n     * TODO Implement this function - Decide how we plan to do it\r\n     * @param room The room to update the dependencies of\r\n     */\r\n    public static updateDependentRooms(room: Room): void {\r\n        // Cycle through all flags and check for any claim rooms or remote rooms\r\n        // ? Should we check for the closest main room?\r\n        // ? I have an idea of a system where we plant a remoteFlag/claimFlag\r\n        // ? and then we place a different colored flag in the room that we want\r\n        // ? to assign that remote/claim room to. Once the program detects the assignment flag\r\n        // ? and the room it assigns to, it removes the assignment flag and could optionally remove\r\n        // ? the remoteFlag as well (but I think it would be more clear to leave the flag in the room)\r\n    }\r\n    /**\r\n     * Find all hostile creeps in room\r\n     * TODO Check for boosted creeps\r\n     * [Cached] Room.memory.hostiles\r\n     * @param room The Room to update\r\n     */\r\n    public static updateHostileCreeps(room: Room): void {\r\n        Memory.rooms[room.name].hostiles = { data: { ranged: [], melee: [], heal: [], boosted: [] }, cache: null };\r\n\r\n        const enemies = room.find(FIND_HOSTILE_CREEPS);\r\n        // Sort creeps into categories\r\n        _.forEach(enemies, (enemy: Creep) => {\r\n            // * Check for boosted creeps and put them at the front of the if else stack\r\n            if (enemy.getActiveBodyparts(HEAL) > 0) {\r\n                Memory.rooms[room.name].hostiles.data.heal.push(enemy.id);\r\n            } else if (enemy.getActiveBodyparts(RANGED_ATTACK) > 0) {\r\n                Memory.rooms[room.name].hostiles.data.ranged.push(enemy.id);\r\n            } else if (enemy.getActiveBodyparts(ATTACK) > 0) {\r\n                Memory.rooms[room.name].hostiles.data.melee.push(enemy.id);\r\n            }\r\n        });\r\n\r\n        Memory.rooms[room.name].hostiles.cache = Game.time;\r\n    }\r\n\r\n    /**\r\n     * Find all owned creeps in room\r\n     * ? Should we filter these by role into memory? E.g. creeps.data.miners\r\n     * [Cached] Room.memory.creeps\r\n     * @param room The Room we are checking in\r\n     */\r\n    public static updateMyCreeps(room: Room): void {\r\n        Memory.rooms[room.name].creeps = { data: null, cache: null };\r\n\r\n        const creeps = room.find(FIND_MY_CREEPS);\r\n\r\n        Memory.rooms[room.name].creeps.data = _.map(creeps, (creep: Creep) => creep.id);\r\n        Memory.rooms[room.name].creeps.cache = Game.time;\r\n    }\r\n\r\n    /**\r\n     * Find all construction sites in room\r\n     *\r\n     * [Cached] Room.memory.constructionSites\r\n     * @param room The Room we are checking in\r\n     */\r\n    public static updateConstructionSites(room: Room): void {\r\n        Memory.rooms[room.name].constructionSites = { data: null, cache: null };\r\n\r\n        const constructionSites: ConstructionSite[] = room.find(FIND_MY_CONSTRUCTION_SITES);\r\n\r\n        Memory.rooms[room.name].constructionSites.data = _.map(constructionSites, (c: ConstructionSite) => c.id);\r\n        Memory.rooms[room.name].constructionSites.cache = Game.time;\r\n    }\r\n\r\n    /**\r\n     * Find all structures in room\r\n     *\r\n     * [Cached] Room.memory.structures\r\n     * @param room The Room we are checking in\r\n     */\r\n    public static updateStructures(room: Room): void {\r\n        Memory.rooms[room.name].structures = { data: {}, cache: null };\r\n\r\n        const allStructures: Structure[] = room.find(FIND_STRUCTURES);\r\n        const sortedStructureIDs: StringMap = {};\r\n        // For each structureType, remove the structures from allStructures and map them to ids in the memory object.\r\n        _.forEach(ALL_STRUCTURE_TYPES, (type: StructureConstant) => {\r\n            sortedStructureIDs[type] = _.map(\r\n                _.remove(allStructures, (struct: Structure) => struct.structureType === type),\r\n                (struct: Structure) => struct.id\r\n            );\r\n        });\r\n\r\n        Memory.rooms[room.name].structures.data = sortedStructureIDs;\r\n        Memory.rooms[room.name].structures.cache = Game.time;\r\n    }\r\n\r\n    /**\r\n     * Find all sources in room\r\n     *\r\n     * [Cached] Room.memory.sources\r\n     * @param room The room to check in\r\n     */\r\n    public static updateSources(room: Room): void {\r\n        Memory.rooms[room.name].sources = { data: {}, cache: null };\r\n\r\n        const sources = room.find(FIND_SOURCES);\r\n\r\n        Memory.rooms[room.name].sources.data = _.map(sources, (source: Source) => source.id);\r\n        Memory.rooms[room.name].sources.cache = Infinity;\r\n    }\r\n\r\n    /**\r\n     * Find all sources in room\r\n     *\r\n     * [Cached] Room.memory.sources\r\n     * @param room The room to check in\r\n     */\r\n    public static updateMinerals(room: Room): void {\r\n        // TODO Fill this out\r\n    }\r\n\r\n    /**\r\n     * Finds all tombstones in room\r\n     *\r\n     * @param room The room to check in\r\n     */\r\n    public static updateTombstones(room: Room): void {\r\n        // TODO Fill this out\r\n    }\r\n\r\n    /**\r\n     * Find all dropped energy in a room\r\n     *\r\n     * @param room The room to check in\r\n     */\r\n    public static updateDroppedEnergy(room: Room): void {\r\n        // TODO Fill this out\r\n    }\r\n\r\n    /**\r\n     * update the room state\r\n     * @param room the room we are updating\r\n     * @param stateConst the state we are applying to the room\r\n     */\r\n    public static updateRoomState(room: Room, stateConst: RoomStateConstant): void {\r\n        Memory.rooms[room.name].roomState = stateConst;\r\n        return;\r\n    }\r\n\r\n    /**\r\n     * update the room defcon\r\n     * @param room the room we are updating\r\n     * @param stateConst the defcon we are applying to the room\r\n     */\r\n    public static updateDefcon(room: Room, defconLevel: number): void {\r\n        Memory.rooms[room.name].defcon = defconLevel;\r\n        return;\r\n    }\r\n\r\n    /**\r\n     * update creep limits for domestic creeps\r\n     * @param room room we are updating limits for\r\n     * @param newLimits new limits we are setting\r\n     */\r\n    public static updateDomesticLimits(room: Room, newLimits: DomesticCreepLimits): void {\r\n        // * Optionally apply a filter or otherwise check the limits before assigning them\r\n        Memory.rooms[room.name].creepLimit[\"domesticLimits\"] = newLimits;\r\n    }\r\n\r\n    /**\r\n     * update creep limits for remote creeps\r\n     * @param room room we are updating limits for\r\n     * @param newLimits new limits we are setting\r\n     */\r\n    public static updateRemoteLimits(room: Room, newLimits: RemoteCreepLimits): void {\r\n        // * Optionally apply a filter or otherwise check the limits before assigning them\r\n        Memory.rooms[room.name].creepLimit[\"remoteLimits\"] = newLimits;\r\n    }\r\n\r\n    /**\r\n     * update creep limits for military creeps\r\n     * @param room room we are updating limits for\r\n     * @param newLimits new limits we are setting\r\n     */\r\n    public static updateMilitaryLimits(room: Room, newLimits: MilitaryCreepLimits): void {\r\n        // * Optionally apply a filter or otherwise check the limits before assigning them\r\n        Memory.rooms[room.name].creepLimit[\"militaryLimits\"] = newLimits;\r\n    }\r\n}\r\n","/**\r\n * Settings to customize code performance\r\n */\r\n\r\n/**\r\n * Disallow the caching of all memory\r\n * NOTE: Turning this setting on will massively reduce performance\r\n *       but will ensure that all memory is as accurate as possible\r\n */\r\nexport const NO_CACHING_MEMORY = false;\r\n\r\n/**\r\n * Allow UtilHelper.throwError to throw an error rather than just print to console\r\n */\r\nexport const ALLOW_CUSTOM_ERRORS = true;\r\n","import MemoryHelper_Room from \"Helpers/MemoryHelper_Room\";\r\nimport {\r\n    ROOM_STATE_INTRO,\r\n    SOURCE_CACHE_TTL,\r\n    STRUCT_CACHE_TTL,\r\n    CONSTR_CACHE_TTL,\r\n    HCREEP_CACHE_TTL,\r\n    FCREEP_CACHE_TTL,\r\n    DEPNDT_CACHE_TTL\r\n} from \"utils/Constants\";\r\nimport { NO_CACHING_MEMORY } from \"utils/config\";\r\n\r\n// the api for the memory class\r\nexport default class MemoryApi {\r\n    /**\r\n     * Remove all memory objects that are dead\r\n     */\r\n    public static garbageCollection(): void {\r\n        // Remove all dead creeps from memory\r\n        for (const name in Memory.creeps) {\r\n            if (!(name in Game.creeps)) {\r\n                delete Memory.creeps[name];\r\n            }\r\n        }\r\n\r\n        // Remove all dead rooms from memory\r\n        for (const roomName in Memory.rooms) {\r\n            if (!(roomName in Game.rooms)) {\r\n                delete Memory.rooms[roomName];\r\n            }\r\n        }\r\n\r\n        // dead flags\r\n        // TODO Complete a method to remove flag effects\r\n        for (const flagName in Memory.flags) {\r\n            if (!(flagName in Game.flags)) {\r\n                // * Call a function to handle removing the effects of a flag removal here\r\n                // RoomHelper/MemoryHelper.unassignFlag()\r\n                delete Memory.flags[flagName];\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Initialize the Memory object for a new room, and perform all one-time updates\r\n     * @param room The room to initialize the memory of.\r\n     */\r\n    public static initRoomMemory(room: Room): void {\r\n        // Abort if Memory already exists\r\n        if (Memory.rooms[room.name]) {\r\n            return;\r\n        }\r\n\r\n        // Initialize Memory - Typescript requires it be done this way\r\n        //                    unless we define a constructor for RoomMemory.\r\n        Memory.rooms[room.name] = {\r\n            attackRooms: { data: null, cache: null },\r\n            claimRooms: { data: null, cache: null },\r\n            constructionSites: { data: null, cache: null },\r\n            creepLimit: {},\r\n            creeps: { data: null, cache: null },\r\n            defcon: 0,\r\n            hostiles: { data: null, cache: null },\r\n            remoteRooms: { data: null, cache: null },\r\n            roomState: ROOM_STATE_INTRO,\r\n            sources: { data: null, cache: null },\r\n            structures: { data: null, cache: null },\r\n            upgradeLink: \"\"\r\n        };\r\n\r\n        this.getRoomMemory(room, true);\r\n    }\r\n\r\n    /**\r\n     * Validates Room Memory and calls update function as needed\r\n     * for the entire room memory.\r\n     *\r\n     * [Cached] Memory.rooms[room.name]\r\n     * @param room The name of the room to get memory for\r\n     * @param forceUpdate [Optional] Force all room memory to update\r\n     */\r\n    public static getRoomMemory(room: Room, forceUpdate?: boolean): void {\r\n        this.getConstructionSites(room, undefined, forceUpdate);\r\n        this.getMyCreeps(room, undefined, forceUpdate);\r\n        this.getHostileCreeps(room, undefined, forceUpdate);\r\n        this.getSources(room, undefined, forceUpdate);\r\n        this.getStructures(room, undefined, forceUpdate);\r\n        // this.getCreepLimits(room, undefined, forceUpdate);\r\n        // this.getDefcon(room, undefined, forceUpdate);\r\n        // this.getRoomState(room, undefined, forceUpdate);\r\n    }\r\n\r\n    /**\r\n     * Initializes the memory of a newly spawned creep\r\n     * @param creep the creep we want to initialize memory for\r\n     */\r\n    public static initCreepMemory(\r\n        creep: Creep,\r\n        creepRole: RoleConstant,\r\n        creepHomeRoom: string,\r\n        creepOptions: CreepOptionsCiv | CreepOptionsMili,\r\n        creepTargetRoom?: string\r\n    ): void {\r\n        // abort if memory already exists\r\n        if (Memory.creeps[creep.name]) {\r\n            return;\r\n        }\r\n\r\n        // Initialize Memory\r\n        Memory.creeps[creep.name] = {\r\n            homeRoom: creepHomeRoom,\r\n            options: creepOptions,\r\n            role: creepRole,\r\n            targetRoom: creepTargetRoom || \"\",\r\n            workTarget: \"\",\r\n            working: false\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Gets the owned creeps in a room, updating memory if necessary.\r\n     *\r\n     * [Cached] Memory.rooms[room.name].creeps\r\n     * @param room The room to retrieve from\r\n     * @param filterFunction [Optional] The function to filter all creep objects\r\n     * @param forceUpdate [Optional] Invalidate Cache by force\r\n     * @returns Creep[ ] | null -- An array of owned creeps or null if there are none\r\n     */\r\n    public static getMyCreeps(\r\n        room: Room,\r\n        filterFunction?: (object: Creep) => boolean,\r\n        forceUpdate?: boolean\r\n    ): Array<Creep | null> {\r\n        if (\r\n            NO_CACHING_MEMORY ||\r\n            forceUpdate ||\r\n            !Memory.rooms[room.name].creeps ||\r\n            Memory.rooms[room.name].creeps.cache < Game.time - FCREEP_CACHE_TTL\r\n        ) {\r\n            MemoryHelper_Room.updateMyCreeps(room);\r\n        }\r\n\r\n        let creeps: Array<Creep | null> = _.map(Memory.rooms[room.name].creeps.data, (id: string) =>\r\n            Game.getObjectById(id)\r\n        );\r\n\r\n        if (filterFunction !== undefined) {\r\n            creeps = _.filter(creeps, filterFunction);\r\n        }\r\n\r\n        return creeps;\r\n    }\r\n\r\n    /**\r\n     * Get all hostile creeps in a room, updating if necessary\r\n     *\r\n     * [Cached] Memory.rooms[room.name].hostiles\r\n     * @param room The room to retrieve from\r\n     * @param filterFunction [Optional] The function to filter all creep objects\r\n     * @param forceUpdate [Optional] Invalidate Cache by force\r\n     * @returns Creep[ ] | null -- An array of hostile creeps or null if none\r\n     */\r\n    public static getHostileCreeps(\r\n        room: Room,\r\n        filterFunction?: (object: Creep) => boolean,\r\n        forceUpdate?: boolean\r\n    ): Array<Creep | null> {\r\n        if (\r\n            NO_CACHING_MEMORY ||\r\n            forceUpdate ||\r\n            !Memory.rooms[room.name].hostiles ||\r\n            Memory.rooms[room.name].creeps.cache < Game.time - HCREEP_CACHE_TTL\r\n        ) {\r\n            MemoryHelper_Room.updateHostileCreeps(room);\r\n        }\r\n\r\n        let creeps: Array<Creep | null> = _.map(Memory.rooms[room.name].hostiles.data, (id: string) =>\r\n            Game.getObjectById(id)\r\n        );\r\n\r\n        if (filterFunction !== undefined) {\r\n            creeps = _.filter(creeps, filterFunction);\r\n        }\r\n\r\n        return creeps;\r\n    }\r\n\r\n    /**\r\n     * Get structures in a room, updating if necessary\r\n     *\r\n     * [Cached] Memory.rooms[room.name].structures\r\n     * @param room The room to retrieve from\r\n     * @param filterFunction [Optional] The function to filter all structure objects\r\n     * @param forceUpdate [Optional] Invalidate Cache by force\r\n     * @returns Array<Structure> -- An array of structures\r\n     */\r\n    public static getStructures(\r\n        room: Room,\r\n        filterFunction?: (object: Structure) => boolean,\r\n        forceUpdate?: boolean\r\n    ): Array<Structure | null> {\r\n        if (\r\n            NO_CACHING_MEMORY ||\r\n            forceUpdate ||\r\n            Memory.rooms[room.name].structures === undefined ||\r\n            Memory.rooms[room.name].structures.cache < Game.time - STRUCT_CACHE_TTL\r\n        ) {\r\n            MemoryHelper_Room.updateStructures(room);\r\n        }\r\n\r\n        let structures: Array<Structure | null> = [];\r\n        _.forEach(Memory.rooms[room.name].structures.data, (typeArray: string[]) => {\r\n            _.forEach(typeArray, (id: string) => {\r\n                structures.push(Game.getObjectById(id));\r\n            });\r\n        });\r\n\r\n        if (filterFunction !== undefined) {\r\n            structures = _.filter(structures, filterFunction);\r\n        }\r\n\r\n        return structures;\r\n    }\r\n\r\n    /**\r\n     * Get structures of a single type in a room, updating if necessary\r\n     *\r\n     * [Cached] Memory.rooms[room.name].structures\r\n     * @param room The room to check in\r\n     * @param type The type of structure to retrieve\r\n     * @param filterFunction [Optional] A function to filter by\r\n     * @param forceUpdate [Optional] Force structures memory to be updated\r\n     * @returns Structure[] An array of structures of a single type\r\n     */\r\n    public static getStructureOfType(\r\n        room: Room,\r\n        type: StructureConstant,\r\n        filterFunction?: (object: any) => boolean,\r\n        forceUpdate?: boolean\r\n    ): Array<Structure | null> {\r\n        if (\r\n            NO_CACHING_MEMORY ||\r\n            forceUpdate ||\r\n            Memory.rooms[room.name].structures === undefined ||\r\n            Memory.rooms[room.name].structures.data[type] === undefined ||\r\n            Memory.rooms[room.name].structures.cache < Game.time - STRUCT_CACHE_TTL\r\n        ) {\r\n            MemoryHelper_Room.updateStructures(room);\r\n        }\r\n\r\n        let structures: Array<Structure | null> = _.map(Memory.rooms[room.name].structures.data[type], (id: string) =>\r\n            Game.getObjectById(id)\r\n        );\r\n\r\n        if (filterFunction !== undefined) {\r\n            structures = _.filter(structures, filterFunction);\r\n        }\r\n\r\n        return structures;\r\n    }\r\n\r\n    /**\r\n     * Get all construction sites in a room, updating if necessary\r\n     *\r\n     * [Cached] Memory.rooms[room.name].constructionSites\r\n     * @param room The room to retrieve from\r\n     * @param filterFunction [Optional] The function to filter all structure objects\r\n     * @param forceUpdate [Optional] Invalidate Cache by force\r\n     * @returns Array<ConstructionSite> -- An array of ConstructionSites\r\n     */\r\n    public static getConstructionSites(\r\n        room: Room,\r\n        filterFunction?: (object: ConstructionSite) => boolean,\r\n        forceUpdate?: boolean\r\n    ) {\r\n        if (\r\n            NO_CACHING_MEMORY ||\r\n            forceUpdate ||\r\n            !Memory.rooms[room.name].constructionSites ||\r\n            Memory.rooms[room.name].constructionSites.cache < Game.time - CONSTR_CACHE_TTL\r\n        ) {\r\n            MemoryHelper_Room.updateConstructionSites(room);\r\n        }\r\n\r\n        let constructionSites = _.map(Memory.rooms[room.name].constructionSites.data, (id: string) =>\r\n            Game.getObjectById(id)\r\n        );\r\n        if (filterFunction !== undefined) {\r\n            constructionSites = _.filter(constructionSites, filterFunction);\r\n        }\r\n\r\n        return constructionSites;\r\n    }\r\n\r\n    /**\r\n     * Returns a list of tombstones in the room, updating if necessary\r\n     *\r\n     * @param room The room we want to look in\r\n     * @param filterFunction [Optional] The function to filter the tombstones objects\r\n     * @param forceUpdate [Optional] Invalidate Cache by force\r\n     * @returns Array<Tombstone | null> An array of tombstones, if there are any\r\n     */\r\n    public static getTombstones(\r\n        room: Room,\r\n        filterFunction?: (object: Tombstone) => boolean,\r\n        forceUpdate?: boolean\r\n    ): Array<Tombstone | null> {\r\n        // TODO Fill this out for Room.Api.CreateEnergyQueue\r\n        return [null];\r\n    }\r\n\r\n    /**\r\n     * Returns a list of the energy objects in a room, updating if necessary\r\n     *\r\n     * @param room The room we want to look in\r\n     * @param filterFunction [Optional] The function to filter the energy objects\r\n     * @param forceUpdate [Optional] Invalidate Cache by force\r\n     * @returns Array<RESOURCE_ENERGY | null> An array of dropped energy, if there are any\r\n     */\r\n    public static getDroppedEnergy(\r\n        room: Room,\r\n        filterFunction?: (object: RESOURCE_ENERGY) => boolean,\r\n        forceUpdate?: boolean\r\n    ): Array<RESOURCE_ENERGY | null> {\r\n        // TODO Fill this out for Room.Api.CreateEnergyQueue\r\n        return [null];\r\n    }\r\n\r\n    /**\r\n     * get sources in the room\r\n     * @param room the room we want sources from\r\n     * @param filterFunction [Optional] The function to filter all source objects\r\n     * @param forceUpdate [Optional] Invalidate cache by force\r\n     * @returns Array<Source | null> An array of sources, if there are any\r\n     */\r\n    public static getSources(\r\n        room: Room,\r\n        filterFunction?: (object: Source) => boolean,\r\n        forceUpdate?: boolean\r\n    ): Array<Source | null> {\r\n        let sources: Array<Source | null>;\r\n\r\n        if (\r\n            NO_CACHING_MEMORY ||\r\n            forceUpdate ||\r\n            Memory.rooms[room.name].sources === undefined ||\r\n            Memory.rooms[room.name].sources.cache < Game.time - SOURCE_CACHE_TTL\r\n        ) {\r\n            MemoryHelper_Room.updateSources(room);\r\n        }\r\n\r\n        sources = _.map(Memory.rooms[room.name].sources.data, (id: string) => Game.getObjectById(id));\r\n        if (filterFunction !== undefined) {\r\n            _.filter(sources, filterFunction);\r\n        }\r\n\r\n        return sources;\r\n    }\r\n\r\n    /**\r\n     * get minerals in the room\r\n     * @param room the room we want minerals from\r\n     * @param filterFunction [Optional] The function to filter all mineral objects\r\n     * @param forceUpdate [Optional] Invalidate cache by force\r\n     * @returns Array<Mineral | null> An array of minerals, if there are any\r\n     */\r\n    public static getMinerals(\r\n        room: Room,\r\n        filterFunction?: (object: Source) => boolean,\r\n        forceUpdate?: boolean\r\n    ): Array<Mineral | null> {\r\n        //\r\n\r\n        // TODO Fill this out\r\n\r\n        return [null];\r\n    }\r\n\r\n    /**\r\n     * Get the remoteRoom objects\r\n     *\r\n     * Updates all dependencies if the cache is invalid, for efficiency\r\n     * @param room The room to check dependencies of\r\n     * @param filterFunction [Optional] The function to filter the room objects\r\n     * @param forceUpdate [Optional] Forcibly invalidate the cache\r\n     */\r\n    public static getRemoteRooms(\r\n        room: Room,\r\n        filterFunction?: (object: Room) => boolean,\r\n        forceUpdate?: boolean\r\n    ): Room[] {\r\n        if (\r\n            NO_CACHING_MEMORY ||\r\n            forceUpdate ||\r\n            Memory.rooms[room.name].remoteRooms === undefined ||\r\n            Memory.rooms[room.name].remoteRooms.cache < Game.time - DEPNDT_CACHE_TTL\r\n        ) {\r\n            // ! Not implemented yet - Empty function\r\n            MemoryHelper_Room.updateDependentRooms(room);\r\n        }\r\n\r\n        const remoteRooms: Room[] = _.map(Memory.rooms[room.name].remoteRooms.data, (name: string) => Game.rooms[name]);\r\n\r\n        return remoteRooms;\r\n    }\r\n\r\n    /**\r\n     * Get the claimRoom objects\r\n     *\r\n     * Updates all dependencies if the cache is invalid\r\n     * @param room The room to check the dependencies of\r\n     * @param filterFunction [Optional] THe function to filter the room objects\r\n     * @param forceUpdate [Optional] Forcibly invalidate the cache\r\n     */\r\n    public static getClaimRooms(room: Room, filterFunction?: (object: Room) => boolean, forceUpdate?: boolean): Room[] {\r\n        if (\r\n            NO_CACHING_MEMORY ||\r\n            forceUpdate ||\r\n            Memory.rooms[room.name].remoteRooms === undefined ||\r\n            Memory.rooms[room.name].claimRooms.cache < Game.time - DEPNDT_CACHE_TTL\r\n        ) {\r\n            // ! Not implemented yet - Empty function\r\n            MemoryHelper_Room.updateDependentRooms(room);\r\n        }\r\n\r\n        const claimRooms: Room[] = _.map(Memory.rooms[room.name].claimRooms.data, (name: string) => Game.rooms[name]);\r\n\r\n        return claimRooms;\r\n    }\r\n\r\n    public static getAttackRooms(\r\n        room: Room,\r\n        filterFUnction?: (object: Room) => boolean,\r\n        forceUpdate?: boolean\r\n    ): Room[] {\r\n        if (\r\n            NO_CACHING_MEMORY ||\r\n            forceUpdate ||\r\n            Memory.rooms[room.name].attackRooms === undefined ||\r\n            Memory.rooms[room.name].attackRooms.cache < Game.time - DEPNDT_CACHE_TTL\r\n        ) {\r\n            // ! Not implemented yet - Empty Function\r\n            MemoryHelper_Room.updateDependentRooms(room);\r\n        }\r\n\r\n        const attackRooms: Room[] = _.map(Memory.rooms[room.name].attackRooms.data, (name: string) => Game.rooms[name]);\r\n\r\n        return attackRooms;\r\n    }\r\n}\r\n","// @ts-ignore\r\nimport MemoryApi from \"Api/Memory.Api\";\r\n\r\n// manager for the memory of the empire\r\nexport default class MemoryManager {\r\n    /**\r\n     * run the memory for the AI\r\n     */\r\n    public static runMemoryManager(): void {\r\n\r\n        MemoryApi.garbageCollection();\r\n\r\n        // Should we check for owned rooms here so we don't run memory on rooms we are just passing through?\r\n        // Example code provided\r\n        /*\r\n            const ownedRooms = _.filter(Game.rooms, (room: Room) => RoomHelper.isOwnedRoom(room));\r\n\r\n            _.forEach(ownedRooms, (room: Room) => {\r\n                MemoryApi.initRoomMemory(room);\r\n            });\r\n        */\r\n        _.forEach(Game.rooms, (room: Room) => {\r\n            MemoryApi.initRoomMemory(room);\r\n        });\r\n    }\r\n}\r\n","// room-wide manager\r\nexport default class RoomManager{\r\n    \r\n    /**\r\n     * run the spawning for the AI\r\n     */\r\n    public static runRoomManager(): void{\r\n        console.log(\"running rooms\")\r\n    }\r\n}","// Room State Constants\r\nexport const ROOM_STATE_INTRO = 0;\r\nexport const ROOM_STATE_BEGINNER = 1;\r\nexport const ROOM_STATE_INTER = 2;\r\nexport const ROOM_STATE_ADVANCED = 3;\r\nexport const ROOM_STATE_UPGRADER = 4;\r\nexport const ROOM_STATE_SEIGE = 5;\r\nexport const ROOM_STATE_STIMULATE = 6;\r\nexport const ROOM_STATE_NUKE_INBOUND = 7;\r\n\r\n// Role Constants\r\nexport const ROLE_MINER = \"miner\";\r\nexport const ROLE_HARVESTER = \"harvester\";\r\nexport const ROLE_WORKER = \"worker\";\r\nexport const ROLE_POWER_UPGRADER = \"powerUpgrader\";\r\nexport const ROLE_LORRY = \"lorry\";\r\nexport const ROLE_REMOTE_MINER = \"remoteMiner\";\r\nexport const ROLE_REMOTE_HARVESTER = \"remoteHarvester\";\r\nexport const ROLE_REMOTE_RESERVER = \"remoteReserver\";\r\nexport const ROLE_REMOTE_DEFENDER = \"remoteDefender\";\r\nexport const ROLE_COLONIZER = \"remoteColonizer\";\r\nexport const ROLE_ZEALOT = \"zealot\";\r\nexport const ROLE_STALKER = \"stalker\";\r\nexport const ROLE_MEDIC = \"medic\";\r\n\r\n// Tier Constants\r\nexport const TIER_1 = 300;\r\nexport const TIER_2 = 550;\r\nexport const TIER_3 = 800;\r\nexport const TIER_4 = 1300;\r\nexport const TIER_5 = 1800;\r\nexport const TIER_6 = 2300;\r\nexport const TIER_7 = 5300;\r\nexport const TIER_8 = 12300;\r\n\r\n// Creep Body Layout Constants\r\nexport const GROUPED = \"grouped\";\r\nexport const COLLATED = \"collated\";\r\n\r\n// Role Priority List\r\n// * Keep this list ordered by spawn priority\r\nexport const domesticRolePriority: RoleConstant[] = [\r\n    ROLE_MINER,\r\n    ROLE_HARVESTER,\r\n    ROLE_WORKER,\r\n    ROLE_POWER_UPGRADER,\r\n    ROLE_LORRY\r\n];\r\n\r\n// * Keep this list ordered by spawn priority\r\nexport const remoteRolePriority: RoleConstant[] = [\r\n    ROLE_REMOTE_RESERVER,\r\n    ROLE_REMOTE_MINER,\r\n    ROLE_REMOTE_HARVESTER,\r\n    ROLE_REMOTE_DEFENDER,\r\n    ROLE_COLONIZER\r\n];\r\n\r\n// * Keep this list ordered by spawn priority\r\nexport const militaryRolePriority: RoleConstant[] = [ROLE_MEDIC, ROLE_STALKER, ROLE_ZEALOT];\r\n\r\n// List of every structure in the game\r\nexport const ALL_STRUCTURE_TYPES: StructureConstant[] = [\r\n    STRUCTURE_EXTENSION,\r\n    STRUCTURE_RAMPART,\r\n    STRUCTURE_ROAD,\r\n    STRUCTURE_SPAWN,\r\n    STRUCTURE_LINK,\r\n    STRUCTURE_WALL,\r\n    STRUCTURE_STORAGE,\r\n    STRUCTURE_TOWER,\r\n    STRUCTURE_OBSERVER,\r\n    STRUCTURE_POWER_SPAWN,\r\n    STRUCTURE_EXTRACTOR,\r\n    STRUCTURE_LAB,\r\n    STRUCTURE_TERMINAL,\r\n    STRUCTURE_CONTAINER,\r\n    STRUCTURE_NUKER,\r\n    STRUCTURE_KEEPER_LAIR,\r\n    STRUCTURE_CONTROLLER,\r\n    STRUCTURE_POWER_BANK,\r\n    STRUCTURE_PORTAL\r\n];\r\n\r\n// The Wall/Rampart HP Limit for each Controller level\r\nexport const WALL_LIMIT: number[] = [\r\n    0, // RCL 0\r\n    25000, // RCL 1\r\n    50000, // RCL 2\r\n    100000, // RCL 3\r\n    250000, // RCL 4\r\n    500000, // RCL 5\r\n    1000000, // RCL 6\r\n    1500000, // RCL 7\r\n    5000000 // RCL 8\r\n];\r\n\r\n// Cache Tick Limits\r\nexport const STRUCT_CACHE_TTL = 50; // Structures\r\nexport const SOURCE_CACHE_TTL = -1; // Sources\r\nexport const CONSTR_CACHE_TTL = 50; // Construction Sites\r\nexport const FCREEP_CACHE_TTL = 20; // Friendly Creep\r\nexport const HCREEP_CACHE_TTL = 1; // Hostile Creep\r\n// ? Should we change DEPNDT to be 3 seperate consts? Attack, Remote, Claim?\r\nexport const DEPNDT_CACHE_TTL = 50; // Dependent Rooms - Attack, Remote, Claim\r\n\r\n// Error Severity Constants\r\nexport const ERROR_FATAL = 3; // Very severe error - Game ruining\r\nexport const ERROR_ERROR = 2; // Regular error - Creep/Room ruining\r\nexport const ERROR_WARN = 1; // Small error - Something went wrong, but doesn't ruin anything\r\nexport const ERROR_INFO = 0; // Non-error - Used to log when something happens (e.g. memory is updated)\r\n\r\n// Color Constants\r\nexport const COLORS: any = {};\r\nCOLORS[ERROR_FATAL] = \"#FF0000\";\r\nCOLORS[ERROR_ERROR] = \"#E300FF\";\r\nCOLORS[ERROR_WARN] = \"#F0FF00\";\r\nCOLORS[ERROR_INFO] = \"#0045FF\";\r\n","import { COLORS } from \"utils/constants\";\r\n/**\r\n * Custom error class\r\n */\r\nclass UserException extends Error {\r\n\r\n    public title: string;\r\n    public body: string;\r\n    public severity: number;\r\n    public titleColor: any;\r\n    public bodyColor: string;\r\n\r\n    constructor(title: string, body: string, severity: ErrorConstant, useTitleColor?: string, useBodyColor?: string) {\r\n        super();\r\n        Object.setPrototypeOf(this, UserException.prototype);\r\n        \r\n        this.title = title;\r\n        this.body = body;\r\n        this.severity = severity;\r\n        // Custom color option\r\n        this.titleColor = useTitleColor !== undefined ? useTitleColor : COLORS[severity];\r\n        this.bodyColor = useBodyColor !== undefined ? useBodyColor : \"#ff1113\";\r\n    }\r\n}\r\n\r\nexport default UserException;\r\n","import Normalize from \"Helpers/Normalize\";\r\nimport MemoryApi from \"Api/Memory.Api\";\r\nimport MemoryHelper_Room from \"./MemoryHelper_Room\";\r\nimport { WALL_LIMIT } from \"utils/Constants\";\r\nimport UtilHelper from \"./UtilHelper\";\r\nimport UserException from \"utils/UserException\";\r\n\r\n// helper functions for rooms\r\nexport default class RoomHelper {\r\n    /**\r\n     * check if a specified room is owned by you\r\n     * @param room the room we want to check\r\n     */\r\n    public static isOwnedRoom(room: Room): boolean {\r\n        if (room.controller !== undefined) {\r\n            return room.controller.my;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * check if a specified room is an ally room\r\n     * @param room the room we want to check\r\n     */\r\n    public static isAllyRoom(room: Room): boolean {\r\n        // returns true if a room has one of our names but is not owned by us\r\n        if (room.controller === undefined) {\r\n            return false;\r\n        } else {\r\n            return (\r\n                !this.isOwnedRoom(room) &&\r\n                (room.controller.owner.username === \"UhmBrock\" || room.controller.owner.username === \"Jakesboy2\")\r\n            );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * check if a room is a source keeper room\r\n     * @param room the room we want to check\r\n     */\r\n    public static isSourceKeeperRoom(room: Room): boolean {\r\n        // Contains x pos in [1], y pos in [2]\r\n        const parsedName: any = /^[WE]([0-9]+)[NS]([0-9]+)$/.exec(room.name);\r\n        const xOffset = parsedName[1] % 10;\r\n        const yOffset = parsedName[2] % 10;\r\n        // If x & y === 5 it's not SK, but both must be between 4 and 6\r\n        const isSK =\r\n            !(xOffset === 5 && xOffset === 5) && (xOffset >= 4 && xOffset <= 6) && (yOffset >= 4 && yOffset <= 6);\r\n        return isSK;\r\n    }\r\n\r\n    /**\r\n     * check if a room is a highway room\r\n     * @param room the room we want to check\r\n     */\r\n    public static isHighwayRoom(room: Room): boolean {\r\n        // Contains x pos in [1], y pos in [2]\r\n        const parsedName: any = /^[WE]([0-9]+)[NS]([0-9]+)$/.exec(room.name);\r\n        // If x || y is divisible by 10, it's a highway\r\n        if (parsedName[1] % 10 === 0 || parsedName[2] % 10 === 0) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * check if a room is close enough to send a creep to\r\n     * ? What are we doing with this? Checking if room is within roomdistance * 50 tiles - CreepTTL?\r\n     * TODO Complete this\r\n     * @param room the room we want to check\r\n     */\r\n    public static inTravelRange(room: Room): boolean {\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * check if the object exists within a room\r\n     * @param room the room we want to check\r\n     * @param objectConst the object we want to check for\r\n     */\r\n    public static isExistInRoom(room: Room, objectConst: StructureConstant): boolean {\r\n        return MemoryApi.getStructures(room, s => s.structureType === objectConst).length > 0;\r\n    }\r\n\r\n    /**\r\n     * get the stored amount from the target\r\n     * @param target the target we want to check the storage of\r\n     * @param resourceType the resource we want to check the storage for\r\n     */\r\n    public static getStoredAmount(target: any, resourceType: ResourceConstant): number | undefined {\r\n        if (target instanceof Creep) {\r\n            return target.carry[resourceType];\r\n        } else if (target.hasOwnProperty(\"store\")) {\r\n            return target.store[resourceType];\r\n        } else if (resourceType === RESOURCE_ENERGY && target.hasOwnProperty(\"energy\")) {\r\n            return target.energy;\r\n        }\r\n        // Throw an error to identify when this fail condition is met\r\n        throw new UserException(\r\n            \"Failed to getStoredAmount of a target\",\r\n            \"ID: \" + target.id + \"\\n\" + JSON.stringify(target),\r\n            ERROR_ERROR\r\n        );\r\n    }\r\n\r\n    /**\r\n     * get the capacity from the target\r\n     * @param target the target we want to check the capacity of\r\n     */\r\n    public static getStoredCapacity(target: any): number {\r\n        if (target instanceof Creep) {\r\n            return target.carryCapacity;\r\n        } else if (target.hasOwnProperty(\"store\")) {\r\n            return target.storeCapacity;\r\n        } else if (target.hasOwnProperty(\"energyCapacity\")) {\r\n            return target.energyCapacity;\r\n        }\r\n\r\n        return -1;\r\n    }\r\n\r\n    /**\r\n     * get the amount of damage a tower will do at this distance\r\n     * @param range the distance the target is from the tower\r\n     */\r\n    public static getTowerDamageAtRange(range: number) {\r\n        if (range <= TOWER_OPTIMAL_RANGE) {\r\n            return TOWER_POWER_ATTACK;\r\n        }\r\n        if (range >= TOWER_FALLOFF_RANGE) {\r\n            range = TOWER_FALLOFF_RANGE;\r\n        }\r\n        return (\r\n            TOWER_POWER_ATTACK -\r\n            (TOWER_POWER_ATTACK * TOWER_FALLOFF * (range - TOWER_OPTIMAL_RANGE)) /\r\n                (TOWER_FALLOFF_RANGE - TOWER_OPTIMAL_RANGE)\r\n        );\r\n    }\r\n\r\n    /**\r\n     * only returns true every ${parameter} number of ticks\r\n     * @param ticks the number of ticks you want between executions\r\n     */\r\n    public static excecuteEveryTicks(ticks: number): boolean {\r\n        return Game.time % ticks === 0;\r\n    }\r\n\r\n    /**\r\n     * check if container mining is active in a room\r\n     * @param room the room we are checking\r\n     * @param sources the sources we are checking\r\n     * @param containers the containers we are checking\r\n     */\r\n    public static isContainerMining(\r\n        room: Room,\r\n        sources: Array<Source | null>,\r\n        containers: Array<Structure<StructureConstant> | null>\r\n    ): boolean {\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * check if container mining is active in a room\r\n     * TODO Complete this\r\n     * @param room the room we are checking\r\n     * @param sources the sources we are checking\r\n     * @param containers the containers we are checking\r\n     */\r\n    public static isUpgraderLink(room: Room, links: Array<Structure<StructureConstant> | null>): boolean {\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * choose an ideal target for the towers to attack\r\n     * TODO actually choose an ideal target not just the first one lol\r\n     * @param room the room we are in\r\n     */\r\n    public static chooseTowerTarget(room: Room): Creep | null {\r\n        // get the creep we will do the most damage to\r\n        const hostileCreeps: Array<Creep | null> = MemoryApi.getHostileCreeps(room);\r\n\r\n        // temp, in future get one we do most dmg to\r\n        return hostileCreeps[0];\r\n    }\r\n\r\n    /**\r\n     * Get the difference in Wall/Rampart HP between the current and previous RCL\r\n     * @param controllerLevel the level of the controller in the room\r\n     */\r\n    public static getWallLevelDifference(controllerLevel: number): number {\r\n        return WALL_LIMIT[controllerLevel] - WALL_LIMIT[controllerLevel - 1];\r\n    }\r\n\r\n    /**\r\n     * Returns the number of hostile creeps recorded in the room\r\n     * @param room The room to check\r\n     */\r\n    public static numHostileCreeps(room: Room): number {\r\n        const hostiles = MemoryApi.getHostileCreeps(room);\r\n        return hostiles.length;\r\n    }\r\n    /**\r\n     * Return the number of remote rooms associated with the given room\r\n     * @param room\r\n     */\r\n    public static numRemoteRooms(room: Room): number {\r\n        const remoteRooms = MemoryApi.getRemoteRooms(room);\r\n        return remoteRooms.length;\r\n    }\r\n\r\n    /**\r\n     * get number of associated claim rooms\r\n     * @param room\r\n     */\r\n    public static numClaimRooms(room: Room): number {\r\n        const claimRooms = MemoryApi.getClaimRooms(room);\r\n        return claimRooms.length;\r\n    }\r\n\r\n    /**\r\n     * get number of associated attack rooms\r\n     * @param room\r\n     */\r\n    public static numAttackRooms(room: Room): number {\r\n        const attackRooms = MemoryApi.getAttackRooms(room);\r\n        return attackRooms.length;\r\n    }\r\n\r\n    /**\r\n     * Returns the number of sources in a room\r\n     * @param room The room to check\r\n     */\r\n    public static numSources(room: Room): number {\r\n        return Memory.rooms[room.name].sources.data.length;\r\n    }\r\n    /**\r\n     * Returns the number of sources in all remoteRooms connected to room\r\n     * @param room The room to check the remoteRooms of\r\n     */\r\n    public static numRemoteSources(room: Room): number {\r\n        const remoteRoomNames: string[] = Memory.rooms[room.name].remoteRooms.data;\r\n        let numSources: number = 0;\r\n        _.forEach(remoteRoomNames, (name: string) => {\r\n            const remoteRoom: Room = Game.rooms[name];\r\n            numSources += RoomHelper.numSources(remoteRoom);\r\n        });\r\n        return numSources;\r\n    }\r\n\r\n    /**\r\n     * get number of remote defenders we need\r\n     * @param room The room to check the dependencies of\r\n     */\r\n    public static numRemoteDefenders(room: Room): number {\r\n        const remoteRoomNames: string[] = Memory.rooms[room.name].remoteRooms.data;\r\n        let numRemoteDefenders: number = 0;\r\n\r\n        _.forEach(remoteRoomNames, (name: string) => {\r\n            const remoteRoom: Room = Game.rooms[name];\r\n            // If there are any hostile creeps, add one to remoteDefenderCount\r\n            if (this.numHostileCreeps(remoteRoom) > 0) {\r\n                numRemoteDefenders++;\r\n            }\r\n        });\r\n\r\n        return numRemoteDefenders;\r\n    }\r\n}\r\n","import UtilHelper from \"./UtilHelper\";\r\nimport SpawnApi from \"Api/Spawn.Api\";\r\nimport {\r\n    domesticRolePriority,\r\n    militaryRolePriority,\r\n    remoteRolePriority,\r\n    ROLE_COLONIZER,\r\n    ROLE_REMOTE_MINER,\r\n    ROLE_REMOTE_RESERVER,\r\n    ROLE_LORRY,\r\n    ROLE_HARVESTER,\r\n    ROLE_MEDIC,\r\n    ROLE_MINER,\r\n    ROLE_POWER_UPGRADER,\r\n    ROLE_REMOTE_DEFENDER,\r\n    ROLE_REMOTE_HARVESTER,\r\n    ROLE_STALKER,\r\n    ROLE_WORKER,\r\n    ROLE_ZEALOT,\r\n    GROUPED,\r\n    COLLATED,\r\n    ROOM_STATE_INTRO,\r\n    ROOM_STATE_BEGINNER,\r\n    ROOM_STATE_INTER,\r\n    ROOM_STATE_ADVANCED,\r\n    ROOM_STATE_NUKE_INBOUND,\r\n    ROOM_STATE_SEIGE,\r\n    ROOM_STATE_STIMULATE,\r\n    ROOM_STATE_UPGRADER,\r\n    TIER_1,\r\n    TIER_2,\r\n    TIER_3,\r\n    TIER_4,\r\n    TIER_5,\r\n    TIER_6,\r\n    TIER_7,\r\n    TIER_8\r\n} from \"utils/Constants\";\r\nimport UserException from \"utils/UserException\";\r\n\r\n/**\r\n * Functions to help keep Spawn.Api clean go here\r\n */\r\nexport class SpawnHelper {\r\n    /**\r\n     * Returns a boolean indicating if the object is a valid creepBody descriptor\r\n     * @param bodyObject The description of the creep body to verify\r\n     */\r\n    public static verifyDescriptor(bodyObject: CreepBodyDescriptor): boolean {\r\n        const partNames = Object.keys(bodyObject);\r\n        let valid: boolean = true;\r\n        // Check that no body parts have a definition of 0 or negative\r\n        for (const part in partNames) {\r\n            if (bodyObject[part] <= 0) {\r\n                valid = false;\r\n            }\r\n            // if (!(part in BODYPARTS_ALL)) {\r\n            // * Technically invalid for testing atm - Need to fix\r\n            //     valid = false;\r\n            // }\r\n        }\r\n        return valid;\r\n    }\r\n\r\n    /**\r\n     * Helper function - Returns an array containing @numParts of @part\r\n     * @part The part to create\r\n     * @numParts The number of parts to create\r\n     */\r\n    public static generateParts(part: BodyPartConstant, numParts: number): BodyPartConstant[] {\r\n        const returnArray: BodyPartConstant[] = [];\r\n        for (let i = 0; i < numParts; i++) {\r\n            returnArray.push(part);\r\n        }\r\n        return returnArray;\r\n    }\r\n\r\n    /**\r\n     * Groups the body parts -- e.g. WORK, WORK, CARRY, CARRY, MOVE, MOVE\r\n     * @param descriptor A StringMap of creepbody limits -- { MOVE: 3, CARRY: 2, ... }\r\n     */\r\n    public static getBody_Grouped(descriptor: CreepBodyDescriptor): BodyPartConstant[] {\r\n        const creepBody: BodyPartConstant[] = [];\r\n        _.forEach(Object.keys(descriptor), (part: BodyPartConstant) => {\r\n            // Having ! after property removes 'null' and 'undefined'\r\n            for (let i = 0; i < descriptor[part]!; i++) {\r\n                creepBody.push(part);\r\n            }\r\n        });\r\n        return creepBody;\r\n    }\r\n\r\n    /**\r\n     * Collates the body parts -- e.g. WORK, CARRY, MOVE, WORK, CARRY, ...\r\n     * @param descriptor A StringMap of creepbody limits -- { MOVE: 3, CARRY: 2, ... }\r\n     */\r\n    public static getBody_Collated(descriptor: CreepBodyDescriptor): BodyPartConstant[] {\r\n        const returnParts: BodyPartConstant[] = [];\r\n        const numParts: number = _.sum(_.values(descriptor));\r\n        const partNames = <BodyPartConstant[]>Object.keys(descriptor);\r\n\r\n        let i = 0;\r\n        while (i < numParts) {\r\n            for (let j = 0; j < partNames.length; j++) {\r\n                const currPart: BodyPartConstant = partNames[j];\r\n                if (descriptor[currPart]! >= 1) {\r\n                    returnParts.push(currPart);\r\n                    descriptor[currPart]!--;\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n        return returnParts;\r\n    }\r\n\r\n    /**\r\n     * Generates a creep name in the format role_tier_uniqueID\r\n     * @param role The role of the creep being generated\r\n     * @param tier The tier of the creep being generated\r\n     */\r\n    public static generateCreepName(role: RoleConstant, tier: TierConstant, room: Room): string {\r\n        const modifier: string = Game.time.toString().slice(-4);\r\n        const name = role + \"_\" + tier + \"_\" + room.name + \"_\" + modifier;\r\n        return name;\r\n    }\r\n\r\n    // Domestic ----\r\n    /**\r\n     * Generate body for miner creep\r\n     * @param tier The tier of the room\r\n     */\r\n    public static generateMinerBody(tier: TierConstant): BodyPartConstant[] {\r\n        let body: CreepBodyDescriptor = { work: 0, move: 0 };\r\n        const opts: CreepBodyOptions = { mixType: GROUPED };\r\n\r\n        switch (tier) {\r\n            case TIER_1: // 2 Work, 2 Move - Total Cost: 300\r\n                body = { work: 2, move: 2 };\r\n                opts.mixType = COLLATED; // Just as an example of how we could change opts by tier as well\r\n                break;\r\n\r\n            case TIER_2: // 5 Work, 1 Move - Total Cost: 550\r\n                body = { work: 5, move: 1 };\r\n                break;\r\n\r\n            case TIER_3 || TIER_4 || TIER_5 || TIER_6 || TIER_7 || TIER_8: // 5 Work, 2 Move - Total Cost: 600\r\n                body = { work: 5, move: 2 };\r\n                break;\r\n        }\r\n\r\n        // Generate the creep body based on the body array and options\r\n        return SpawnApi.getCreepBody(body, opts);\r\n    }\r\n\r\n    /**\r\n     * Generate options for miner creep\r\n     * @param roomState the room state of the room\r\n     */\r\n    public static generateMinerOptions(roomState: RoomStateConstant): CreepOptionsCiv | undefined {\r\n        let creepOptions: CreepOptionsCiv = this.getDefaultCreepOptionsCiv();\r\n\r\n        switch (roomState) {\r\n            case ROOM_STATE_INTRO ||\r\n                ROOM_STATE_BEGINNER ||\r\n                ROOM_STATE_INTER ||\r\n                ROOM_STATE_ADVANCED ||\r\n                ROOM_STATE_STIMULATE ||\r\n                ROOM_STATE_UPGRADER ||\r\n                ROOM_STATE_SEIGE ||\r\n                ROOM_STATE_NUKE_INBOUND:\r\n                creepOptions = {\r\n                    // Options marked with // are overriding the defaults\r\n                    build: false,\r\n                    upgrade: false,\r\n                    repair: false,\r\n                    wallRepair: false,\r\n                    fillTower: false,\r\n                    fillStorage: false,\r\n                    fillContainer: true, //\r\n                    fillLink: false,\r\n                    fillTerminal: false,\r\n                    fillLab: false,\r\n                    getFromStorage: false,\r\n                    getFromContainer: false,\r\n                    getDroppedEnergy: false,\r\n                    getFromLink: false,\r\n                    getFromTerminal: false\r\n                };\r\n\r\n                break;\r\n        }\r\n\r\n        return creepOptions;\r\n    }\r\n\r\n    /**\r\n     * Generate body for Harvester creep\r\n     * @param tier the tier of the room\r\n     */\r\n    public static generateHarvesterBody(tier: TierConstant): BodyPartConstant[] {\r\n        // Default Values for harvester\r\n        let body: CreepBodyDescriptor = { work: 0, move: 0 };\r\n        const opts: CreepBodyOptions = { mixType: GROUPED };\r\n\r\n        switch (tier) {\r\n            case TIER_1: // 1 Work, 2 Carry, 2 Move - Total Cost: 300\r\n                body = { work: 1, carry: 2, move: 2 };\r\n                break;\r\n\r\n            case TIER_2: // 2 Work, 5 Carry, 3 Move - Total Cost: 550\r\n                body = { work: 2, carry: 5, move: 3 };\r\n                break;\r\n\r\n            case TIER_3: // 2 Work, 6 Carry, 6 Move - Total Cost: 800\r\n                body = { work: 2, carry: 6, move: 6 };\r\n                break;\r\n\r\n            case TIER_4: // 2 Work, 11 Carry, 11 Move - Total Cost: 1300\r\n                body = { work: 2, carry: 11, move: 11 };\r\n                break;\r\n\r\n            case TIER_5: // 2 Work, 16 Carry, 16 Move - Total Cost: 1800\r\n                body = { work: 2, carry: 16, move: 16 };\r\n                break;\r\n\r\n            case TIER_6 || TIER_7 || TIER_8: // 2 Work, 20 Carry, 20 Move - Total Cost: 2200\r\n                body = { work: 2, carry: 20, move: 20 };\r\n                break;\r\n        }\r\n\r\n        // Generate creep body based on body array and options\r\n        return SpawnApi.getCreepBody(body, opts);\r\n    }\r\n\r\n    /**\r\n     * Generate options for harvester creep\r\n     * @param roomState the room state of the room\r\n     */\r\n    public static generateHarvesterOptions(roomState: RoomStateConstant): CreepOptionsCiv | undefined {\r\n        let creepOptions: CreepOptionsCiv = this.getDefaultCreepOptionsCiv();\r\n\r\n        switch (roomState) {\r\n            case ROOM_STATE_INTRO || ROOM_STATE_BEGINNER:\r\n                creepOptions = {\r\n                    // Options marked with // are overriding the defaults\r\n                    build: true, //\r\n                    upgrade: true, //\r\n                    repair: false,\r\n                    wallRepair: false,\r\n                    fillTower: false,\r\n                    fillStorage: false,\r\n                    fillContainer: false,\r\n                    fillLink: false,\r\n                    fillTerminal: false,\r\n                    fillLab: false,\r\n                    getFromStorage: false,\r\n                    getFromContainer: false,\r\n                    getDroppedEnergy: true, //\r\n                    getFromLink: false,\r\n                    getFromTerminal: false\r\n                };\r\n\r\n                break;\r\n\r\n            case ROOM_STATE_INTER:\r\n                creepOptions = {\r\n                    // Options marked with // are overriding the defaults\r\n                    build: true, //\r\n                    upgrade: true, //\r\n                    repair: true, //\r\n                    wallRepair: false,\r\n                    fillTower: false,\r\n                    fillStorage: false,\r\n                    fillContainer: false,\r\n                    fillLink: false,\r\n                    fillTerminal: false,\r\n                    fillLab: false,\r\n                    getFromStorage: false,\r\n                    getFromContainer: true, //\r\n                    getDroppedEnergy: true, //\r\n                    getFromLink: false,\r\n                    getFromTerminal: false\r\n                };\r\n\r\n                break;\r\n\r\n            case ROOM_STATE_ADVANCED:\r\n                creepOptions = {\r\n                    // Options marked with // are overriding the defaults\r\n                    build: false,\r\n                    upgrade: false,\r\n                    repair: false,\r\n                    wallRepair: false,\r\n                    fillTower: false,\r\n                    fillStorage: true, //\r\n                    fillContainer: false,\r\n                    fillLink: false,\r\n                    fillTerminal: false,\r\n                    fillLab: false,\r\n                    getFromStorage: true, //\r\n                    getFromContainer: true, //\r\n                    getDroppedEnergy: true, //\r\n                    getFromLink: false,\r\n                    getFromTerminal: true //\r\n                };\r\n\r\n                break;\r\n\r\n            case ROOM_STATE_UPGRADER || ROOM_STATE_STIMULATE || ROOM_STATE_SEIGE || ROOM_STATE_NUKE_INBOUND:\r\n                creepOptions = {\r\n                    // Options marked with // are overriding the defaults\r\n                    build: false,\r\n                    upgrade: false,\r\n                    repair: true, //\r\n                    wallRepair: false,\r\n                    fillTower: false,\r\n                    fillStorage: true, //\r\n                    fillContainer: false,\r\n                    fillLink: false,\r\n                    fillTerminal: false,\r\n                    fillLab: false,\r\n                    getFromStorage: true, //\r\n                    getFromContainer: false,\r\n                    getDroppedEnergy: true, //\r\n                    getFromLink: false,\r\n                    getFromTerminal: true //\r\n                };\r\n\r\n                break;\r\n        }\r\n\r\n        return creepOptions;\r\n    }\r\n\r\n    /**\r\n     * Generate body for worker creep\r\n     * @param tier the tier of the room\r\n     */\r\n    public static generateWorkerBody(tier: TierConstant): BodyPartConstant[] {\r\n        // Default Values for Worker\r\n        let body: CreepBodyDescriptor = { work: 0, move: 0 };\r\n        const opts: CreepBodyOptions = { mixType: GROUPED };\r\n\r\n        switch (tier) {\r\n            case TIER_1: // 1 Work, 2 Carry, 2 Move - Total Cost: 300\r\n                body = { work: 1, carry: 2, move: 2 };\r\n                break;\r\n\r\n            case TIER_2: // 2 Work, 5 Carry, 3 Move - Total Cost: 550\r\n                body = { work: 2, carry: 5, move: 3 };\r\n                break;\r\n\r\n            case TIER_3: // 4 Work, 4 Carry, 4 Move - Total Cost: 800\r\n                body = { work: 4, carry: 4, move: 4 };\r\n                break;\r\n\r\n            case TIER_4: // 7 Work, 6 Carry, 6 Move - Total Cost: 1300\r\n                body = { work: 7, carry: 6, move: 6 };\r\n                break;\r\n\r\n            case TIER_5 || TIER_6 || TIER_7 || TIER_8: // 10 Work, 8 Carry, 8 Move - Total Cost: 1800\r\n                body = { work: 10, carry: 8, move: 8 };\r\n                break;\r\n        }\r\n\r\n        // Generate creep body based on body array and options\r\n        return SpawnApi.getCreepBody(body, opts);\r\n    }\r\n\r\n    /**\r\n     * Generate options for worker creep\r\n     * @param roomState the room state of the room\r\n     */\r\n    public static generateWorkerOptions(roomState: RoomStateConstant): CreepOptionsCiv | undefined {\r\n        let creepOptions: CreepOptionsCiv = this.getDefaultCreepOptionsCiv();\r\n\r\n        switch (roomState) {\r\n            case ROOM_STATE_INTRO || ROOM_STATE_BEGINNER:\r\n                creepOptions = {\r\n                    // Options marked with // are overriding the defaults\r\n                    build: true, //\r\n                    upgrade: true, //\r\n                    repair: true, //\r\n                    wallRepair: true, //\r\n                    fillTower: true, //\r\n                    fillStorage: false, //\r\n                    fillContainer: false,\r\n                    fillLink: false,\r\n                    fillTerminal: false,\r\n                    fillLab: false,\r\n                    getFromStorage: false,\r\n                    getFromContainer: false,\r\n                    getDroppedEnergy: true, //\r\n                    getFromLink: false,\r\n                    getFromTerminal: false\r\n                };\r\n\r\n                break;\r\n\r\n            case ROOM_STATE_INTER:\r\n                creepOptions = {\r\n                    // Options marked with // are overriding the defaults\r\n                    build: true, //\r\n                    upgrade: true, //\r\n                    repair: true, //\r\n                    wallRepair: true, //\r\n                    fillTower: true, //\r\n                    fillStorage: false,\r\n                    fillContainer: false,\r\n                    fillLink: false,\r\n                    fillTerminal: false,\r\n                    fillLab: false,\r\n                    getFromStorage: false,\r\n                    getFromContainer: true, //\r\n                    getDroppedEnergy: true, //\r\n                    getFromLink: false,\r\n                    getFromTerminal: false\r\n                };\r\n\r\n                break;\r\n\r\n            case ROOM_STATE_ADVANCED:\r\n                creepOptions = {\r\n                    // Options marked with // are overriding the defaults\r\n                    build: true, //\r\n                    upgrade: true, //\r\n                    repair: true, //\r\n                    wallRepair: true, //\r\n                    fillTower: true, //\r\n                    fillStorage: false,\r\n                    fillContainer: false,\r\n                    fillLink: false,\r\n                    fillTerminal: false,\r\n                    fillLab: false,\r\n                    getFromStorage: true, //\r\n                    getFromContainer: false,\r\n                    getDroppedEnergy: true, //\r\n                    getFromLink: false,\r\n                    getFromTerminal: true //\r\n                };\r\n\r\n                break;\r\n\r\n            case ROOM_STATE_UPGRADER || ROOM_STATE_STIMULATE || ROOM_STATE_SEIGE || ROOM_STATE_NUKE_INBOUND:\r\n                creepOptions = {\r\n                    // Options marked with // are overriding the defaults\r\n                    build: true, //\r\n                    upgrade: true, //\r\n                    repair: true, //\r\n                    wallRepair: true, //\r\n                    fillTower: true, //\r\n                    fillStorage: true, //\r\n                    fillContainer: false,\r\n                    fillLink: true, //\r\n                    fillTerminal: false,\r\n                    fillLab: false,\r\n                    getFromStorage: true, //\r\n                    getFromContainer: false,\r\n                    getDroppedEnergy: true, //\r\n                    getFromLink: false,\r\n                    getFromTerminal: true //\r\n                };\r\n\r\n                break;\r\n        }\r\n\r\n        return creepOptions;\r\n    }\r\n\r\n    /**\r\n     * Generate body for lorry creep\r\n     * @param tier the tier of the room\r\n     */\r\n    public static generateLorryBody(tier: TierConstant): BodyPartConstant[] {\r\n        // Default Values for Lorry\r\n        let body: CreepBodyDescriptor = { work: 0, move: 0 };\r\n        const opts: CreepBodyOptions = { mixType: GROUPED };\r\n\r\n        // There are currently no plans to use lorry before terminal becomes available\r\n        switch (tier) {\r\n            case TIER_1: // 3 Carry, 3 Move - Total Cost: 300\r\n                body = { carry: 3, move: 3 };\r\n                break;\r\n\r\n            case TIER_2: // 6 Carry, 5 Move - Total Cost: 550\r\n                body = { carry: 6, move: 5 };\r\n                break;\r\n\r\n            case TIER_3: // 8 Carry, 8 Move - Total Cost: 800\r\n                body = { carry: 8, move: 8 };\r\n                break;\r\n\r\n            case TIER_4 || TIER_5: // 10 Carry, 10 Move - Total Cost: 1000\r\n                body = { carry: 10, move: 10 };\r\n                break;\r\n\r\n            case TIER_6 || TIER_7 || TIER_8: // 20 Carry, 20 Move - Total Cost: 2000\r\n                body = { carry: 20, move: 20 };\r\n                break;\r\n        }\r\n\r\n        // Generate creep body based on body array and options\r\n        return SpawnApi.getCreepBody(body, opts);\r\n    }\r\n\r\n    /**\r\n     * Generate options for lorry creep\r\n     * @param roomState the room state of the room\r\n     */\r\n    public static generateLorryOptions(roomState: RoomStateConstant): CreepOptionsCiv | undefined {\r\n        let creepOptions: CreepOptionsCiv = this.getDefaultCreepOptionsCiv();\r\n\r\n        switch (roomState) {\r\n            case ROOM_STATE_INTRO ||\r\n                ROOM_STATE_BEGINNER ||\r\n                ROOM_STATE_INTER ||\r\n                ROOM_STATE_ADVANCED ||\r\n                ROOM_STATE_STIMULATE ||\r\n                ROOM_STATE_UPGRADER ||\r\n                ROOM_STATE_SEIGE ||\r\n                ROOM_STATE_NUKE_INBOUND:\r\n                creepOptions = {\r\n                    build: false,\r\n                    upgrade: false,\r\n                    repair: false,\r\n                    wallRepair: false,\r\n                    fillTower: true, //\r\n                    fillStorage: true, //\r\n                    fillContainer: true, //\r\n                    fillLink: true, //\r\n                    fillTerminal: true, //\r\n                    fillLab: true, //\r\n                    getFromStorage: true, //\r\n                    getFromContainer: true, //\r\n                    getDroppedEnergy: true, //\r\n                    getFromLink: false,\r\n                    getFromTerminal: true //\r\n                };\r\n\r\n                break;\r\n        }\r\n\r\n        return creepOptions;\r\n    }\r\n\r\n    /**\r\n     * Generate body for power upgrader creep\r\n     * @param tier the tier of the room\r\n     */\r\n    public static generatePowerUpgraderBody(tier: TierConstant): BodyPartConstant[] {\r\n        // Default Values for Power Upgrader\r\n        let body: CreepBodyDescriptor = { work: 0, move: 0 };\r\n        const opts: CreepBodyOptions = { mixType: GROUPED };\r\n\r\n        // There are currently no plans to use power upgraders before links become available\r\n        // Need to experiment with work parts here and find out whats keeps up with the links\r\n        // Without over draining the storage, but still puts up numbers\r\n        switch (tier) {\r\n            case TIER_6: // 15 Work, 1 Carry, 1 Move - Total Cost: 2300\r\n                body = { work: 18, carry: 8, move: 4 };\r\n                break;\r\n\r\n            case TIER_7: // 1 Work, 8 Carry, 4 Move - Total Cost: 2800\r\n                body = { work: 22, carry: 8, move: 4 };\r\n                break;\r\n\r\n            case TIER_8: // 1 Work, 8 Carry, 4 Move - Total Cost: 2100\r\n                body = { work: 15, carry: 8, move: 4 }; // RCL 8 you can only do 15 per tick\r\n                break;\r\n        }\r\n\r\n        // Generate creep body based on body array and options\r\n        return SpawnApi.getCreepBody(body, opts);\r\n    }\r\n\r\n    /**\r\n     * Generate options for power upgrader creep\r\n     * @param roomState the room state of the room\r\n     */\r\n    public static generatePowerUpgraderOptions(roomState: RoomStateConstant): CreepOptionsCiv | undefined {\r\n        let creepOptions: CreepOptionsCiv = this.getDefaultCreepOptionsCiv();\r\n\r\n        switch (roomState) {\r\n            case ROOM_STATE_UPGRADER || ROOM_STATE_STIMULATE || ROOM_STATE_SEIGE || ROOM_STATE_NUKE_INBOUND:\r\n                creepOptions = {\r\n                    build: false,\r\n                    upgrade: true, //\r\n                    repair: false,\r\n                    wallRepair: false,\r\n                    fillTower: false,\r\n                    fillStorage: false,\r\n                    fillContainer: false,\r\n                    fillLink: false,\r\n                    fillTerminal: false,\r\n                    fillLab: false,\r\n                    getFromStorage: false,\r\n                    getFromContainer: false,\r\n                    getDroppedEnergy: false,\r\n                    getFromLink: true, //\r\n                    getFromTerminal: false\r\n                };\r\n\r\n                break;\r\n        }\r\n\r\n        return creepOptions;\r\n    }\r\n    // ------------\r\n\r\n    // Remote -----\r\n    // No need to start building these guys until tier 4, but allow them at tier 3 in case our strategy changes\r\n    /**\r\n     * Generate body for remote miner creep\r\n     * @param tier the tier of the room\r\n     */\r\n    public static generateRemoteMinerBody(tier: TierConstant): BodyPartConstant[] {\r\n        // Default Values for Remote Miner\r\n        let body: CreepBodyDescriptor = { work: 0, move: 0 };\r\n        const opts: CreepBodyOptions = { mixType: GROUPED };\r\n\r\n        // Cap the remote miner at 6 work parts (6 so they finish mining early and can build/repair their container)\r\n        switch (tier) {\r\n            case TIER_3: // 6 Work, 1 Carry, 3 Move - Total Cost: 800\r\n                body = { work: 6, carry: 1, move: 3 };\r\n                break;\r\n\r\n            case TIER_4 || TIER_5 || TIER_6 || TIER_7 || TIER_8: // 6 Work, 1 Carry, 4 Move - Total Cost: 850\r\n                body = { work: 6, carry: 1, move: 4 };\r\n                break;\r\n        }\r\n\r\n        // Generate creep body based on body array and options\r\n        return SpawnApi.getCreepBody(body, opts);\r\n    }\r\n\r\n    /**\r\n     * Generate options for remote miner creep\r\n     * @param roomState the room state of the room\r\n     */\r\n    public static generateRemoteMinerOptions(roomState: RoomStateConstant): CreepOptionsCiv | undefined {\r\n        let creepOptions: CreepOptionsCiv = this.getDefaultCreepOptionsCiv();\r\n\r\n        switch (roomState) {\r\n            case ROOM_STATE_INTRO || ROOM_STATE_BEGINNER || ROOM_STATE_INTER:\r\n                creepOptions = {\r\n                    build: true, //\r\n                    upgrade: false,\r\n                    repair: true, //\r\n                    wallRepair: false,\r\n                    fillTower: false,\r\n                    fillStorage: false,\r\n                    fillContainer: true, //\r\n                    fillLink: false,\r\n                    fillTerminal: false,\r\n                    fillLab: false,\r\n                    getFromStorage: false,\r\n                    getFromContainer: false,\r\n                    getDroppedEnergy: false,\r\n                    getFromLink: false,\r\n                    getFromTerminal: false\r\n                };\r\n\r\n                break;\r\n        }\r\n\r\n        return creepOptions;\r\n    }\r\n\r\n    /**\r\n     * Generate body for remote harvester creep\r\n     * @param tier the tier of the room\r\n     */\r\n    public static generateRemoteHarvesterBody(tier: TierConstant): BodyPartConstant[] {\r\n        // Default Values for Remote Harvester\r\n        let body: CreepBodyDescriptor = { work: 0, move: 0 };\r\n        const opts: CreepBodyOptions = { mixType: GROUPED };\r\n\r\n        switch (tier) {\r\n            case TIER_3: // 8 Carry, 8 Move - Total Cost: 800\r\n                body = { carry: 8, move: 8 };\r\n                break;\r\n\r\n            case TIER_4: // 10 Carry, 10 Move- Total Cost: 1000\r\n                body = { carry: 10, move: 10 };\r\n                break;\r\n\r\n            case TIER_5: // 16 Carry, 16 Move - Total Cost: 1600\r\n                body = { carry: 16, move: 16 };\r\n                break;\r\n\r\n            case TIER_6 || TIER_7 || TIER_8: // 20 Carry, 20 Move - Total Cost: 2000\r\n                body = { carry: 20, move: 20 };\r\n                break;\r\n        }\r\n\r\n        // Generate creep body based on body array and options\r\n        return SpawnApi.getCreepBody(body, opts);\r\n    }\r\n\r\n    /**\r\n     * Generate options for remote harvester creep\r\n     * @param roomState the room state of the room\r\n     */\r\n    public static generateRemoteHarvesterOptions(roomState: RoomStateConstant): CreepOptionsCiv | undefined {\r\n        let creepOptions: CreepOptionsCiv = this.getDefaultCreepOptionsCiv();\r\n\r\n        switch (roomState) {\r\n            case ROOM_STATE_INTRO || ROOM_STATE_BEGINNER || ROOM_STATE_INTER:\r\n                creepOptions = {\r\n                    build: true, //\r\n                    upgrade: true, //\r\n                    repair: true, //\r\n                    wallRepair: true, //\r\n                    fillTower: true, //\r\n                    fillStorage: false,\r\n                    fillContainer: false,\r\n                    fillLink: false,\r\n                    fillTerminal: false,\r\n                    fillLab: false,\r\n                    getFromStorage: false,\r\n                    getFromContainer: true, //\r\n                    getDroppedEnergy: true, //\r\n                    getFromLink: false,\r\n                    getFromTerminal: false\r\n                };\r\n\r\n                break;\r\n\r\n            case ROOM_STATE_ADVANCED:\r\n                creepOptions = {\r\n                    build: false,\r\n                    upgrade: false,\r\n                    repair: true, //\r\n                    wallRepair: false,\r\n                    fillTower: false,\r\n                    fillStorage: true, //\r\n                    fillContainer: false,\r\n                    fillLink: false,\r\n                    fillTerminal: false,\r\n                    fillLab: false,\r\n                    getFromStorage: false,\r\n                    getFromContainer: true, //\r\n                    getDroppedEnergy: true, //\r\n                    getFromLink: false,\r\n                    getFromTerminal: false\r\n                };\r\n\r\n                break;\r\n\r\n            case ROOM_STATE_UPGRADER || ROOM_STATE_STIMULATE || ROOM_STATE_SEIGE || ROOM_STATE_NUKE_INBOUND:\r\n                creepOptions = {\r\n                    build: false,\r\n                    upgrade: false,\r\n                    repair: true, //\r\n                    wallRepair: false,\r\n                    fillTower: false,\r\n                    fillStorage: true, //\r\n                    fillContainer: false,\r\n                    fillLink: true, //\r\n                    fillTerminal: false,\r\n                    fillLab: false,\r\n                    getFromStorage: false,\r\n                    getFromContainer: true, //\r\n                    getDroppedEnergy: true, //\r\n                    getFromLink: false,\r\n                    getFromTerminal: false\r\n                };\r\n\r\n                break;\r\n        }\r\n\r\n        return creepOptions;\r\n    }\r\n\r\n    /**\r\n     * Generate body for remote reserver creep\r\n     * @param tier the tier of the room\r\n     */\r\n    public static generateRemoteReserverBody(tier: TierConstant): BodyPartConstant[] {\r\n        // Default Values for Remote Reserver\r\n        let body: CreepBodyDescriptor = { work: 0, move: 0 };\r\n        const opts: CreepBodyOptions = { mixType: GROUPED };\r\n\r\n        switch (tier) {\r\n            case TIER_4 || TIER_5 || TIER_6 || TIER_7 || TIER_8: // 2 Reserve Carry, 2 Move - Total Cost: 800\r\n                body = { reserve: 2, move: 2 };\r\n                break;\r\n        }\r\n\r\n        // Generate creep body based on body array and options\r\n        return SpawnApi.getCreepBody(body, opts);\r\n    }\r\n\r\n    /**\r\n     * Generate options for remote reserver creep\r\n     * @param roomState the room state of the room\r\n     */\r\n    public static generateRemoteReserverOptions(roomState: RoomStateConstant): CreepOptionsCiv | undefined {\r\n        let creepOptions: CreepOptionsCiv = this.getDefaultCreepOptionsCiv();\r\n\r\n        switch (roomState) {\r\n            case ROOM_STATE_INTRO ||\r\n                ROOM_STATE_BEGINNER ||\r\n                ROOM_STATE_INTER ||\r\n                ROOM_STATE_ADVANCED ||\r\n                ROOM_STATE_STIMULATE ||\r\n                ROOM_STATE_UPGRADER ||\r\n                ROOM_STATE_SEIGE ||\r\n                ROOM_STATE_NUKE_INBOUND:\r\n                // Remote reservers don't really have options perse, so just leave as defaults\r\n                creepOptions = {\r\n                    build: false,\r\n                    upgrade: false,\r\n                    repair: false,\r\n                    wallRepair: false,\r\n                    fillTower: false,\r\n                    fillStorage: false,\r\n                    fillContainer: false,\r\n                    fillLink: false,\r\n                    fillTerminal: false,\r\n                    fillLab: false,\r\n                    getFromStorage: false,\r\n                    getFromContainer: false,\r\n                    getDroppedEnergy: false,\r\n                    getFromLink: false,\r\n                    getFromTerminal: false\r\n                };\r\n\r\n                break;\r\n        }\r\n\r\n        return creepOptions;\r\n    }\r\n\r\n    /**\r\n     * Generate body for remote colonizer creep\r\n     * @param tier the tier of the room\r\n     */\r\n    public static generateRemoteColonizerBody(tier: TierConstant): BodyPartConstant[] {\r\n        // Default Values for Remote Colonizer\r\n        let body: CreepBodyDescriptor = { work: 0, move: 0 };\r\n        const opts: CreepBodyOptions = { mixType: GROUPED };\r\n\r\n        switch (tier) {\r\n            case TIER_4: // 7 Work, 5 Carry, 5 Move - Total Cost: 1300\r\n                body = { work: 7, carry: 5, move: 6 };\r\n                break;\r\n\r\n            case TIER_5: // 9 Work, 8 Carry, 10 Move - Total Cost: 1800\r\n                body = { work: 9, carry: 8, move: 10 };\r\n                break;\r\n\r\n            case TIER_6 || TIER_7 || TIER_8: // 12 Work, 10 Carry, 10 Move - Total Cost: 2300\r\n                body = { work: 12, carry: 10, move: 12 };\r\n                break;\r\n        }\r\n\r\n        // Generate creep body based on body array and options\r\n        return SpawnApi.getCreepBody(body, opts);\r\n    }\r\n\r\n    /**\r\n     * Generate options for remote colonizer creep\r\n     * @param tier the tier of the room\r\n     */\r\n    public static generateRemoteColonizerOptions(roomState: RoomStateConstant): CreepOptionsCiv | undefined {\r\n        let creepOptions: CreepOptionsCiv = this.getDefaultCreepOptionsCiv();\r\n\r\n        switch (roomState) {\r\n            case ROOM_STATE_INTRO ||\r\n                ROOM_STATE_BEGINNER ||\r\n                ROOM_STATE_INTER ||\r\n                ROOM_STATE_ADVANCED ||\r\n                ROOM_STATE_STIMULATE ||\r\n                ROOM_STATE_UPGRADER ||\r\n                ROOM_STATE_SEIGE ||\r\n                ROOM_STATE_NUKE_INBOUND:\r\n                creepOptions = {\r\n                    build: true, //\r\n                    upgrade: true, //\r\n                    repair: true, //\r\n                    wallRepair: true, //\r\n                    fillTower: false,\r\n                    fillStorage: false,\r\n                    fillContainer: false,\r\n                    fillLink: false,\r\n                    fillTerminal: false,\r\n                    fillLab: false,\r\n                    getFromStorage: false,\r\n                    getFromContainer: true, //\r\n                    getDroppedEnergy: true, //\r\n                    getFromLink: false,\r\n                    getFromTerminal: false\r\n                };\r\n\r\n                break;\r\n        }\r\n\r\n        return creepOptions;\r\n    }\r\n\r\n    /**\r\n     * Generate body for remote defender creep\r\n     * @param tier the tier of the room\r\n     */\r\n    public static generateRemoteDefenderBody(tier: TierConstant): BodyPartConstant[] {\r\n        // Default Values for Remote Defender\r\n        let body: CreepBodyDescriptor = { work: 0, move: 0 };\r\n        const opts: CreepBodyOptions = { mixType: GROUPED };\r\n\r\n        switch (tier) {\r\n            case TIER_3: // 5 Attack, 5 Move - Total Cost: 550\r\n                body = { attack: 5, move: 5 };\r\n                break;\r\n\r\n            case TIER_4: //  6 Ranged Attack, 6 Move, - Total Cost: 1200\r\n                body = { ranged_attack: 6, move: 6 };\r\n                break;\r\n\r\n            case TIER_5: // 8 Ranged Attack, 7 Move, 1 Heal - Total Cost: 1800\r\n                body = { ranged_attack: 8, move: 7, heal: 1 };\r\n                break;\r\n\r\n            case TIER_6 || TIER_7 || TIER_8: // 8 Ranged Attack, 10 Move, 2 Heal\r\n                body = { ranged_attack: 8, move: 10, heal: 2 };\r\n                break;\r\n        }\r\n\r\n        // Generate creep body based on body array and options\r\n        return SpawnApi.getCreepBody(body, opts);\r\n    }\r\n\r\n    /**\r\n     * Generate options for remote defender creep\r\n     * @param tier the tier of the room\r\n     */\r\n    public static generateRemoteDefenderOptions(roomState: RoomStateConstant): CreepOptionsMili | undefined {\r\n        let creepOptions: CreepOptionsMili = this.getDefaultCreepOptionsMili();\r\n\r\n        switch (roomState) {\r\n            case ROOM_STATE_INTRO ||\r\n                ROOM_STATE_BEGINNER ||\r\n                ROOM_STATE_INTER ||\r\n                ROOM_STATE_ADVANCED ||\r\n                ROOM_STATE_STIMULATE ||\r\n                ROOM_STATE_UPGRADER ||\r\n                ROOM_STATE_SEIGE ||\r\n                ROOM_STATE_NUKE_INBOUND:\r\n                creepOptions = {\r\n                    squadSize: 1,\r\n                    squadUUID: null,\r\n                    rallyLocation: null,\r\n                    seige: false,\r\n                    dismantler: false,\r\n                    healer: true,\r\n                    attacker: false,\r\n                    defender: true,\r\n                    flee: false\r\n                };\r\n\r\n                break;\r\n        }\r\n\r\n        return creepOptions;\r\n    }\r\n    // ----------\r\n\r\n    // Military -----\r\n    /**\r\n     * Generate body for zealot creep\r\n     * @param tier the tier of the room\r\n     */\r\n    public static generateZealotBody(tier: TierConstant): BodyPartConstant[] {\r\n        // Default Values for Zealot\r\n        let body: CreepBodyDescriptor = { work: 0, move: 0 };\r\n        const opts: CreepBodyOptions = { mixType: GROUPED };\r\n\r\n        switch (tier) {\r\n            case TIER_1: // 2 Attack, 2 Move - Total Cost: 260\r\n                body = { attack: 2, move: 2 };\r\n                break;\r\n\r\n            case TIER_2: // 3 Attack, 3 Move  - Total Cost: 390\r\n                body = { attack: 3, move: 3 };\r\n                break;\r\n\r\n            case TIER_3: // 5 Attack, 5 Move - Total Cost: 650\r\n                body = { attack: 5, move: 5 };\r\n                break;\r\n\r\n            case TIER_4: // 10 Attack, 10 Move - Total Cost: 1300\r\n                body = { attack: 2, move: 2 };\r\n                break;\r\n\r\n            case TIER_5: // 15 Attack, 12 Move - Total Cost: 1800\r\n                body = { attack: 15, move: 12 };\r\n                break;\r\n\r\n            case TIER_6 || TIER_7 || TIER_8: // 20 Attack, 14 Move - Total Cost: 2300\r\n                body = { attack: 20, move: 14 };\r\n                break;\r\n        }\r\n\r\n        // Generate creep body based on body array and options\r\n        return SpawnApi.getCreepBody(body, opts);\r\n    }\r\n\r\n    /**\r\n     * Generate options for zealot creep\r\n     * @param roomState the room state of the room\r\n     * @param squadSizeParam the size of the squad associated with the zealot\r\n     * @param squadUUIDParam the squad id that the zealot is a member of\r\n     * @param rallyLocationParam the meeting place for the squad\r\n     */\r\n    public static generateZealotOptions(\r\n        roomState: RoomStateConstant,\r\n        squadSizeParam: number,\r\n        squadUUIDParam: number | null,\r\n        rallyLocationParam: RoomPosition | null\r\n    ): CreepOptionsMili | undefined {\r\n        let creepOptions: CreepOptionsMili = this.getDefaultCreepOptionsMili();\r\n\r\n        switch (roomState) {\r\n            case ROOM_STATE_INTRO ||\r\n                ROOM_STATE_BEGINNER ||\r\n                ROOM_STATE_INTER ||\r\n                ROOM_STATE_ADVANCED ||\r\n                ROOM_STATE_STIMULATE ||\r\n                ROOM_STATE_UPGRADER ||\r\n                ROOM_STATE_SEIGE ||\r\n                ROOM_STATE_NUKE_INBOUND:\r\n                creepOptions = {\r\n                    squadSize: squadSizeParam,\r\n                    squadUUID: squadUUIDParam,\r\n                    rallyLocation: rallyLocationParam,\r\n                    seige: false,\r\n                    dismantler: false,\r\n                    healer: false,\r\n                    attacker: true,\r\n                    defender: false,\r\n                    flee: false\r\n                };\r\n\r\n                break;\r\n        }\r\n\r\n        return creepOptions;\r\n    }\r\n\r\n    /**\r\n     * Generate body for medic creep\r\n     * @param roomState the room state of the room\r\n     * @param squadSizeParam the size of the squad associated with the zealot\r\n     * @param squadUUIDParam the squad id that the zealot is a member of\r\n     * @param rallyLocationParam the meeting place for the squad\r\n     */\r\n    public static generateMedicBody(tier: TierConstant): BodyPartConstant[] {\r\n        // Default Values for Medic\r\n        let body: CreepBodyDescriptor = { work: 0, move: 0 };\r\n        const opts: CreepBodyOptions = { mixType: GROUPED };\r\n\r\n        switch (tier) {\r\n            case TIER_1: // 1 Heal, 1 Move - Total Cost: 300\r\n                body = { heal: 1, move: 1 };\r\n                break;\r\n\r\n            case TIER_2: // 2 Heal, 1 Move - Total Cost: 550\r\n                body = { heal: 2, move: 1 };\r\n                break;\r\n\r\n            case TIER_3: // 2 Heal, 2 Move - Total Cost: 600\r\n                body = { heal: 2, move: 2 };\r\n                break;\r\n\r\n            case TIER_4: // 4 Heal, 4 Move - Total Cost: 1200\r\n                body = { heal: 4, move: 4 };\r\n                break;\r\n\r\n            case TIER_5: // 6 Heal, 6 Move - Total Cost: 1800\r\n                body = { heal: 6, move: 6 };\r\n                break;\r\n\r\n            case TIER_6 || TIER_7 || TIER_8: // 8 Heal, 6 Move - Total Cost: 2300\r\n                body = { heal: 8, move: 6 };\r\n                break;\r\n        }\r\n\r\n        // Generate creep body based on body array and options\r\n        return SpawnApi.getCreepBody(body, opts);\r\n    }\r\n\r\n    /**\r\n     * Generate options for medic creep\r\n     * @param tier the tier of the room\r\n     */\r\n    public static generateMedicOptions(\r\n        roomState: RoomStateConstant,\r\n        squadSizeParam: number,\r\n        squadUUIDParam: number | null,\r\n        rallyLocationParam: RoomPosition | null\r\n    ): CreepOptionsMili | undefined {\r\n        let creepOptions: CreepOptionsMili = this.getDefaultCreepOptionsMili();\r\n\r\n        switch (roomState) {\r\n            case ROOM_STATE_INTRO ||\r\n                ROOM_STATE_BEGINNER ||\r\n                ROOM_STATE_INTER ||\r\n                ROOM_STATE_ADVANCED ||\r\n                ROOM_STATE_STIMULATE ||\r\n                ROOM_STATE_UPGRADER ||\r\n                ROOM_STATE_SEIGE ||\r\n                ROOM_STATE_NUKE_INBOUND:\r\n                creepOptions = {\r\n                    squadSize: squadSizeParam,\r\n                    squadUUID: squadUUIDParam,\r\n                    rallyLocation: rallyLocationParam,\r\n                    seige: false,\r\n                    dismantler: false,\r\n                    healer: true,\r\n                    attacker: false,\r\n                    defender: false,\r\n                    flee: true\r\n                };\r\n\r\n                break;\r\n        }\r\n\r\n        return creepOptions;\r\n    }\r\n\r\n    /**\r\n     * Generate body for stalker creep\r\n     * @param tier the tier of the room\r\n     */\r\n    public static generateStalkerBody(tier: TierConstant): BodyPartConstant[] {\r\n        // Default Values for Stalker\r\n        let body: CreepBodyDescriptor = { work: 0, move: 0 };\r\n        const opts: CreepBodyOptions = { mixType: GROUPED };\r\n\r\n        switch (tier) {\r\n            case TIER_1: // 1 Ranged Attack, 2 Move - Total Cost: 200\r\n                body = { ranged_attack: 1, move: 1 };\r\n                break;\r\n\r\n            case TIER_2: // 3 Ranged Attack, 2 Move - Total Cost: 550\r\n                body = { ranged_attack: 3, move: 2 };\r\n                break;\r\n\r\n            case TIER_3: // 4 Ranged Attack, 4 Move - Total Cost: 800\r\n                body = { ranged_attack: 4, move: 4 };\r\n                break;\r\n\r\n            case TIER_4: // 6 Ranged Attack, 6 Move - Total Cost: 1200\r\n                body = { ranged_attack: 6, move: 6 };\r\n                break;\r\n\r\n            case TIER_5: // 8 Ranged Attack, 8 Move - Total Cost: 1600\r\n                body = { carranged_attackry: 8, move: 8 };\r\n                break;\r\n\r\n            case TIER_6 || TIER_7 || TIER_8: // 12 Ranged Attack, 10 Move - Total Cost: 2300\r\n                body = { ranged_attack: 12, move: 10 };\r\n                break;\r\n        }\r\n\r\n        // Generate creep body based on body array and options\r\n        return SpawnApi.getCreepBody(body, opts);\r\n    }\r\n\r\n    /**\r\n     * Generate options for stalker creep\r\n     * @param roomState the room state of the room\r\n     * @param squadSizeParam the size of the squad associated with the zealot\r\n     * @param squadUUIDParam the squad id that the zealot is a member of\r\n     * @param rallyLocationParam the meeting place for the squad\r\n     */\r\n    public static generateStalkerOptions(\r\n        roomState: RoomStateConstant,\r\n        squadSizeParam: number,\r\n        squadUUIDParam: number | null,\r\n        rallyLocationParam: RoomPosition | null\r\n    ): CreepOptionsMili | undefined {\r\n        let creepOptions: CreepOptionsMili = this.getDefaultCreepOptionsMili();\r\n\r\n        switch (roomState) {\r\n            case ROOM_STATE_INTRO ||\r\n                ROOM_STATE_BEGINNER ||\r\n                ROOM_STATE_INTER ||\r\n                ROOM_STATE_ADVANCED ||\r\n                ROOM_STATE_STIMULATE ||\r\n                ROOM_STATE_UPGRADER ||\r\n                ROOM_STATE_SEIGE ||\r\n                ROOM_STATE_NUKE_INBOUND:\r\n                creepOptions = {\r\n                    squadSize: squadSizeParam,\r\n                    squadUUID: squadUUIDParam,\r\n                    rallyLocation: rallyLocationParam,\r\n                    seige: false,\r\n                    dismantler: false,\r\n                    healer: false,\r\n                    attacker: false,\r\n                    defender: false,\r\n                    flee: false\r\n                };\r\n\r\n                break;\r\n        }\r\n\r\n        return creepOptions;\r\n    }\r\n    // --------------\r\n\r\n    /**\r\n     * returns a set of creep options with all default values\r\n     */\r\n    public static getDefaultCreepOptionsCiv(): CreepOptionsCiv {\r\n        return {\r\n            build: false,\r\n            upgrade: false,\r\n            repair: false,\r\n            wallRepair: false,\r\n            fillTower: false,\r\n            fillStorage: false,\r\n            fillContainer: false,\r\n            fillLink: false,\r\n            fillTerminal: false,\r\n            fillLab: false,\r\n            getFromStorage: false,\r\n            getFromContainer: false,\r\n            getDroppedEnergy: false,\r\n            getFromLink: false,\r\n            getFromTerminal: false\r\n        };\r\n    }\r\n\r\n    /**\r\n     * returns set of mili creep options with all default values\r\n     */\r\n    public static getDefaultCreepOptionsMili(): CreepOptionsMili {\r\n        return {\r\n            squadSize: 0,\r\n            squadUUID: null,\r\n            rallyLocation: null,\r\n            seige: false,\r\n            dismantler: false,\r\n            healer: false,\r\n            attacker: false,\r\n            defender: false,\r\n            flee: false\r\n        };\r\n    }\r\n\r\n    /**\r\n     * generates a creep memory to give to a creep being spawned\r\n     */\r\n    public static generateDefaultCreepMemory(\r\n        roleConst: RoleConstant,\r\n        homeRoomNameParam: string,\r\n        targetRoomParam: string,\r\n        creepOptions: CreepOptionsCiv | CreepOptionsMili\r\n    ): CreepMemory {\r\n        return {\r\n            role: roleConst,\r\n            homeRoom: homeRoomNameParam,\r\n            targetRoom: targetRoomParam,\r\n            workTarget: null,\r\n            options: creepOptions,\r\n            working: false\r\n        };\r\n    }\r\n}\r\n","import { STRUCT_CACHE_TTL } from \"utils/constants\";\r\nimport MemoryHelper_Room from \"./MemoryHelper_Room\";\r\nimport MemoryApi from \"Api/Memory.Api\";\r\nimport { NO_CACHING_MEMORY } from \"utils/config\";\r\n\r\n// Accessing Memory Helpers\r\nexport default class MemoryHelper {\r\n    /**\r\n     * Get structures of a single type in a room, updating if necessary\r\n     *\r\n     * [Cached] Memory.rooms[room.name].structures\r\n     * @param room\r\n     * @param filterFunction\r\n     * @param forceUpdate\r\n     * @returns Structure[] An array of structures of a single type\r\n     */\r\n    public static getStructureOfType(\r\n        room: Room,\r\n        type: StructureConstant,\r\n        forceUpdate?: boolean\r\n    ): Array<Structure | null> {\r\n        if (\r\n            NO_CACHING_MEMORY ||\r\n            forceUpdate ||\r\n            Memory.rooms[room.name].structures === undefined ||\r\n            Memory.rooms[room.name].structures.data[type] === undefined ||\r\n            Memory.rooms[room.name].structures.cache < Game.time - STRUCT_CACHE_TTL\r\n        ) {\r\n            MemoryHelper_Room.updateStructures(room);\r\n        }\r\n\r\n        const structures: Array<Structure | null> = _.map(Memory.rooms[room.name].structures.data[type], (id: string) =>\r\n            Game.getObjectById(id)\r\n        );\r\n        return structures;\r\n    }\r\n\r\n    /**\r\n     * Returns an array of creeps of a role\r\n     * @param role The role to check for\r\n     */\r\n    public static getCreepOfRole(room: Room, role: RoleConstant, forceUpdate?: boolean): Array<Creep | null> {\r\n        const filterByRole = (creep: Creep) => {\r\n            return creep.memory.role === role;\r\n        };\r\n        const creepsOfRole = MemoryApi.getMyCreeps(room, filterByRole);\r\n        return creepsOfRole;\r\n    }\r\n\r\n    /**\r\n     * clear the memory structure for the creep\r\n     * @param creep the creep we want to clear the memory of\r\n     */\r\n    public static clearCreepMemory(creep: Creep) {\r\n        // check if the memory object exists and delete it\r\n        if (Memory.creeps[creep.name]) {\r\n            delete creep.memory;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * clear the memory for a room\r\n     * @param room the room we want to clear the memory for\r\n     */\r\n    public static clearRoomMemory(room: Room) {\r\n        // check if the memory structures exists and delete it\r\n        if (Memory.rooms[room.name]) {\r\n            delete room.memory;\r\n        }\r\n    }\r\n}\r\n","import { SpawnHelper } from \"Helpers/SpawnHelper\";\r\nimport UtilHelper from \"Helpers/UtilHelper\";\r\nimport {\r\n    domesticRolePriority,\r\n    militaryRolePriority,\r\n    remoteRolePriority,\r\n    ROLE_COLONIZER,\r\n    ROLE_REMOTE_MINER,\r\n    ROLE_REMOTE_RESERVER,\r\n    ROLE_LORRY,\r\n    ROLE_HARVESTER,\r\n    ROLE_MEDIC,\r\n    ROLE_MINER,\r\n    ROLE_POWER_UPGRADER,\r\n    ROLE_REMOTE_DEFENDER,\r\n    ROLE_REMOTE_HARVESTER,\r\n    ROLE_STALKER,\r\n    ROLE_WORKER,\r\n    ROLE_ZEALOT,\r\n    GROUPED,\r\n    COLLATED,\r\n    ROOM_STATE_INTRO,\r\n    ROOM_STATE_BEGINNER,\r\n    ROOM_STATE_INTER,\r\n    ROOM_STATE_ADVANCED,\r\n    ROOM_STATE_NUKE_INBOUND,\r\n    ROOM_STATE_SEIGE,\r\n    ROOM_STATE_STIMULATE,\r\n    ROOM_STATE_UPGRADER,\r\n    TIER_1,\r\n    TIER_2,\r\n    TIER_3,\r\n    TIER_4,\r\n    TIER_5,\r\n    TIER_6,\r\n    TIER_7,\r\n    TIER_8\r\n} from \"utils/Constants\";\r\nimport MemoryHelperRoom from \"../Helpers/MemoryHelper_Room\";\r\nimport RoomHelper from \"../Helpers/RoomHelper\";\r\nimport RoomApi from \"./Room.Api\";\r\nimport MemoryApi from \"./Memory.Api\";\r\nimport MemoryHelper from \"Helpers/MemoryHelper\";\r\nimport UserException from \"utils/UserException\";\r\n\r\n/**\r\n * The API used by the spawn manager\r\n */\r\nexport default class SpawnApi {\r\n    /**\r\n     * Get count of all creeps, or of one if creepConst is specified\r\n     * @param room the room we are getting the count for\r\n     * @param creepConst [Optional] Count only one role\r\n     */\r\n    public static getCreepCount(room: Room, creepConst?: RoleConstant): number {\r\n        const filterFunction = creepConst === undefined ? undefined : (c: Creep) => c.memory.role === creepConst;\r\n        return MemoryApi.getMyCreeps(room, filterFunction).length;\r\n    }\r\n\r\n    /**\r\n     * get creep limits\r\n     * @param room the room we want the limits for\r\n     */\r\n    public static getCreepLimits(room: Room): CreepLimits {\r\n        const creepLimits: CreepLimits = {\r\n            domesticLimits: Memory.rooms[room.name].creepLimit[\"domesticLimits\"],\r\n            remoteLimits: Memory.rooms[room.name].creepLimit[\"remoteLimits\"],\r\n            militaryLimits: Memory.rooms[room.name].creepLimit[\"militaryLimits\"]\r\n        };\r\n\r\n        return creepLimits;\r\n    }\r\n\r\n    /**\r\n     * set domestic creep limits\r\n     * @param room the room we want limits for\r\n     */\r\n    public static generateDomesticCreepLimits(room: Room): DomesticCreepLimits {\r\n        const domesticLimits: DomesticCreepLimits = {\r\n            miner: 0,\r\n            harvester: 0,\r\n            worker: 0,\r\n            powerUpgrader: 0,\r\n            lorry: 0\r\n        };\r\n\r\n        // check what room state we are in\r\n        switch (room.memory.roomState) {\r\n            // Intro\r\n            case ROOM_STATE_INTRO:\r\n                // Domestic Creep Definitions\r\n                domesticLimits[ROLE_MINER] = 1;\r\n                domesticLimits[ROLE_HARVESTER] = 1;\r\n                domesticLimits[ROLE_WORKER] = 1;\r\n\r\n                break;\r\n\r\n            // Beginner\r\n            case ROOM_STATE_BEGINNER:\r\n                // Domestic Creep Definitions\r\n                domesticLimits[ROLE_MINER] = 4;\r\n                domesticLimits[ROLE_HARVESTER] = 4;\r\n                domesticLimits[ROLE_WORKER] = 4;\r\n\r\n                break;\r\n\r\n            // Intermediate\r\n            case ROOM_STATE_INTER:\r\n                // Domestic Creep Definitions\r\n                domesticLimits[ROLE_MINER] = 2;\r\n                domesticLimits[ROLE_HARVESTER] = 3;\r\n                domesticLimits[ROLE_WORKER] = 5;\r\n\r\n                break;\r\n\r\n            // Advanced\r\n            case ROOM_STATE_ADVANCED:\r\n                // Domestic Creep Definitions\r\n                domesticLimits[ROLE_MINER] = 2;\r\n                domesticLimits[ROLE_HARVESTER] = 2;\r\n                domesticLimits[ROLE_WORKER] = 4;\r\n                domesticLimits[ROLE_POWER_UPGRADER] = 0;\r\n                domesticLimits[ROLE_LORRY] = 0;\r\n\r\n                break;\r\n\r\n            // Upgrader\r\n            case ROOM_STATE_UPGRADER:\r\n                // Domestic Creep Definitions\r\n                domesticLimits[ROLE_MINER] = 2;\r\n                domesticLimits[ROLE_HARVESTER] = 2;\r\n                domesticLimits[ROLE_WORKER] = 2;\r\n                domesticLimits[ROLE_POWER_UPGRADER] = 1;\r\n\r\n                break;\r\n\r\n            // Stimulate\r\n            case ROOM_STATE_STIMULATE:\r\n                // Domestic Creep Definitions\r\n                domesticLimits[ROLE_MINER] = 2;\r\n                domesticLimits[ROLE_HARVESTER] = 3;\r\n                domesticLimits[ROLE_WORKER] = 3;\r\n                domesticLimits[ROLE_POWER_UPGRADER] = 2;\r\n                domesticLimits[ROLE_LORRY] = 2;\r\n\r\n                break;\r\n\r\n            // Seige\r\n            case ROOM_STATE_SEIGE:\r\n                // Domestic Creep Definitions\r\n                domesticLimits[ROLE_MINER] = 2;\r\n                domesticLimits[ROLE_HARVESTER] = 3;\r\n                domesticLimits[ROLE_WORKER] = 2;\r\n                domesticLimits[ROLE_LORRY] = 1;\r\n\r\n                break;\r\n        }\r\n\r\n        // Return the limits\r\n        return domesticLimits;\r\n    }\r\n\r\n    /**\r\n     * set remote creep limits\r\n     * (we got shooters on deck)\r\n     * @param room the room we want limits for\r\n     */\r\n    public static generateRemoteCreepLimits(room: Room): RemoteCreepLimits {\r\n        const remoteLimits: RemoteCreepLimits = {\r\n            remoteMiner: 0,\r\n            remoteHarvester: 0,\r\n            remoteReserver: 0,\r\n            remoteColonizer: 0,\r\n            remoteDefender: 0\r\n        };\r\n\r\n        const numRemoteRooms: number = RoomHelper.numRemoteRooms(room);\r\n        const numClaimRooms: number = RoomHelper.numClaimRooms(room);\r\n\r\n        // If we do not have any remote rooms, return the initial remote limits (Empty)\r\n        if (numRemoteRooms <= 0 && numClaimRooms <= 0) {\r\n            return remoteLimits;\r\n        }\r\n\r\n        // Gather the rest of the data only if we have a remote room or a claim room\r\n        const numRemoteDefenders = RoomHelper.numRemoteDefenders(room);\r\n        const numRemoteSources: number = RoomHelper.numRemoteSources(room);\r\n\r\n        // check what room state we are in\r\n        switch (room.memory.roomState) {\r\n            // Advanced\r\n            case ROOM_STATE_ADVANCED:\r\n                // 1 'Squad' per source (harvester and miner) and a reserver\r\n                // Remote Creep Definitions\r\n                remoteLimits[ROLE_REMOTE_MINER] = numRemoteSources;\r\n                remoteLimits[ROLE_REMOTE_HARVESTER] = numRemoteSources;\r\n                remoteLimits[ROLE_REMOTE_RESERVER] = numRemoteRooms;\r\n                remoteLimits[ROLE_COLONIZER] = numClaimRooms;\r\n                remoteLimits[ROLE_REMOTE_DEFENDER] = numRemoteDefenders;\r\n\r\n                break;\r\n\r\n            // Upgrader\r\n            case ROOM_STATE_UPGRADER:\r\n                // 1 'Squad' per source (harvester and miner) and a reserver\r\n                // Remote Creep Definitions\r\n                remoteLimits[ROLE_REMOTE_MINER] = numRemoteSources;\r\n                remoteLimits[ROLE_REMOTE_HARVESTER] = numRemoteSources;\r\n                remoteLimits[ROLE_REMOTE_RESERVER] = numRemoteRooms;\r\n                remoteLimits[ROLE_COLONIZER] = numClaimRooms;\r\n                remoteLimits[ROLE_REMOTE_DEFENDER] = numRemoteDefenders;\r\n\r\n                break;\r\n\r\n            // Stimulate\r\n            case ROOM_STATE_STIMULATE:\r\n                // 1 'Squad' per source (harvester and miner) and a reserver\r\n                // Remote Creep Definitions\r\n                remoteLimits[ROLE_REMOTE_MINER] = numRemoteSources;\r\n                remoteLimits[ROLE_REMOTE_HARVESTER] = numRemoteSources;\r\n                remoteLimits[ROLE_REMOTE_RESERVER] = numRemoteRooms;\r\n                remoteLimits[ROLE_COLONIZER] = numClaimRooms;\r\n                remoteLimits[ROLE_REMOTE_DEFENDER] = numRemoteDefenders;\r\n\r\n                break;\r\n        }\r\n\r\n        // Return the limits\r\n        return remoteLimits;\r\n    }\r\n\r\n    /**\r\n     * set military creep limits\r\n     * @param room the room we want limits for\r\n     */\r\n    public static generateMilitaryCreepLimits(room: Room): MilitaryCreepLimits {\r\n        const militaryLimits: MilitaryCreepLimits = {\r\n            zealot: 0,\r\n            stalker: 0,\r\n            medic: 0\r\n        };\r\n\r\n        // Check for attack flags and adjust accordingly\r\n\r\n        // Check if we need defenders and adjust accordingly\r\n\r\n        // Return the limits\r\n        return militaryLimits;\r\n    }\r\n\r\n    /**\r\n     * set creep limits for the room\r\n     * @param room the room we are setting limits for\r\n     */\r\n    public static setCreepLimits(room: Room): void {\r\n        // Set Domestic Limits to Memory\r\n        MemoryHelperRoom.updateDomesticLimits(room, this.generateDomesticCreepLimits(room));\r\n\r\n        // Set Remote Limits to Memory\r\n        MemoryHelperRoom.updateRemoteLimits(room, this.generateRemoteCreepLimits(room));\r\n\r\n        // Set Military Limits to Memory\r\n        MemoryHelperRoom.updateMilitaryLimits(room, this.generateMilitaryCreepLimits(room));\r\n    }\r\n\r\n    /**\r\n     * get the first available open spawn for a room\r\n     * @param room the room we are checking the spawn for\r\n     */\r\n    public static getOpenSpawn(room: Room): any {\r\n        // Get all openSpawns, and return the first\r\n        const openSpawns = MemoryApi.getStructureOfType(\r\n            room,\r\n            STRUCTURE_SPAWN,\r\n            (spawn: StructureSpawn) => !spawn.spawning\r\n        );\r\n\r\n        if (openSpawns.length === 0) {\r\n            return null;\r\n        }\r\n\r\n        return _.first(openSpawns);\r\n    }\r\n\r\n    /**\r\n     * get next creep to spawn\r\n     * @param room the room we want to spawn them in\r\n     */\r\n    public static getNextCreep(room: Room): RoleConstant | null {\r\n        // Get Limits for each creep department\r\n        const creepLimits: CreepLimits = this.getCreepLimits(room);\r\n\r\n        // Check if we need a domestic creep -- Return role if one is found\r\n        for (const role of domesticRolePriority) {\r\n            if (this.getCreepCount(room, role) < creepLimits.domesticLimits[role]) {\r\n                return role;\r\n            }\r\n        }\r\n        // Check if we need a military creep -- Return role if one is found\r\n        for (const role of militaryRolePriority) {\r\n            if (this.getCreepCount(room, role) < creepLimits.militaryLimits[role]) {\r\n                return role;\r\n            }\r\n        }\r\n        // Check if we need a remote creep -- Return role if one is found\r\n        for (const role of remoteRolePriority) {\r\n            if (this.getCreepCount(room, role) < creepLimits.remoteLimits[role]) {\r\n                return role;\r\n            }\r\n        }\r\n\r\n        // Return null if we don't need to spawn anything\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * spawn the next creep\r\n     * TODO Complete this\r\n     * @param room the room we want to spawn them in\r\n     * @param body BodyPartConstant[] the body array of the creep\r\n     * @param creepOptions creep options we want to give to it\r\n     * @param role RoleConstant the role of the creep\r\n     * @param spawn spawn we are going to use to spawn the creep\r\n     */\r\n    public static spawnNextCreep(\r\n        room: Room,\r\n        body: BodyPartConstant[],\r\n        creepOptions: CreepOptionsCiv | CreepOptionsMili,\r\n        role: RoleConstant,\r\n        spawn: StructureSpawn,\r\n        homeRoom: string,\r\n        targetRoom: string\r\n    ): void {\r\n        // Throw error if we don't have enough energy to spawn this creep\r\n        if (this.getEnergyCostOfBody(body) > room.energyAvailable) {\r\n            throw new UserException(\r\n                \"Creep failed to spawn.\",\r\n                'The role \"' + role + '\" was unable to spawn in room \"' + room.name + '\": Not enough energy .',\r\n                ERROR_WARN\r\n            );\r\n        }\r\n\r\n        const name: string = SpawnHelper.generateCreepName(role, this.getTier(room, role), room);\r\n        const creepMemory = SpawnHelper.generateDefaultCreepMemory(role, homeRoom, targetRoom, creepOptions);\r\n\r\n        spawn.spawnCreep(body, name, { memory: creepMemory });\r\n    }\r\n\r\n    /**\r\n     * get energy cost of creep body\r\n     * @param room the room we are spawning them in\r\n     * @param RoleConstant the role of the creep\r\n     * @param tier the tier of this creep we are spawning\r\n     */\r\n    public static getEnergyCostOfBody(body: BodyPartConstant[]): number {\r\n        // Create the object with the costs of each body part\r\n        let totalCost = 0;\r\n        const bodyPartCost: StringMap = {\r\n            work: 100,\r\n            carry: 50,\r\n            move: 50,\r\n            attack: 80,\r\n            ranged_attack: 150,\r\n            heal: 250,\r\n            claim: 600,\r\n            tough: 10\r\n        };\r\n\r\n        // Loop over the creep body array summing the total cost of the body parts\r\n        for (let i = 0; i < body.length; ++i) {\r\n            const currBodyPart = body[i];\r\n            totalCost += bodyPartCost[currBodyPart];\r\n        }\r\n\r\n        return totalCost;\r\n    }\r\n\r\n    /**\r\n     * check what tier of this creep we are spawning\r\n     * @param room the room we are spawning them in\r\n     * @param RoleConstant the role of the creep\r\n     */\r\n    public static getTier(room: Room, roleConst: RoleConstant | null): TierConstant {\r\n        const energyAvailable: number = room.energyAvailable;\r\n\r\n        // Check what tier we are in based on the amount of energy the room has\r\n        if (energyAvailable === TIER_8) {\r\n            return TIER_8;\r\n        }\r\n\r\n        if (energyAvailable >= TIER_7) {\r\n            return TIER_7;\r\n        }\r\n\r\n        if (energyAvailable >= TIER_6) {\r\n            return TIER_6;\r\n        }\r\n\r\n        if (energyAvailable >= TIER_5) {\r\n            return TIER_5;\r\n        }\r\n\r\n        if (energyAvailable >= TIER_4) {\r\n            return TIER_4;\r\n        }\r\n\r\n        if (energyAvailable >= TIER_3) {\r\n            return TIER_3;\r\n        }\r\n\r\n        if (energyAvailable >= TIER_2) {\r\n            return TIER_2;\r\n        }\r\n\r\n        // If we make it here, we are simply tier 1\r\n        return TIER_1;\r\n    }\r\n\r\n    /**\r\n     * get the memory options for this creep\r\n     * @param room the room we are spawning it in\r\n     * @param RoleConstant the role of the creep\r\n     * @param tier the tier of this creep we are spawning\r\n     */\r\n    public static generateCreepOptions(\r\n        room: Room,\r\n        role: RoleConstant | null,\r\n        roomState: RoomStateConstant,\r\n        squadSize?: number,\r\n        squadUUID?: number | null,\r\n        rallyLocation?: RoomPosition | null\r\n    ): CreepOptionsCiv | CreepOptionsMili | undefined {\r\n        // Set default values if military options aren't provided\r\n        // If one of these aren't provided, then the entire purpose of them is nix,\r\n        // So we just check if any of them aren't provided and set defaults for all in that case\r\n        if (!squadSize || !squadUUID || !rallyLocation) {\r\n            squadSize = 0;\r\n            squadUUID = null;\r\n            rallyLocation = null;\r\n        }\r\n\r\n        // Call the correct helper function based on creep role\r\n        switch (role) {\r\n            case ROLE_MINER:\r\n                return SpawnHelper.generateMinerOptions(roomState);\r\n            case ROLE_HARVESTER:\r\n                return SpawnHelper.generateHarvesterOptions(roomState);\r\n            case ROLE_WORKER:\r\n                return SpawnHelper.generateWorkerOptions(roomState);\r\n            case ROLE_LORRY:\r\n                return SpawnHelper.generateLorryOptions(roomState);\r\n            case ROLE_POWER_UPGRADER:\r\n                return SpawnHelper.generatePowerUpgraderOptions(roomState);\r\n            case ROLE_REMOTE_MINER:\r\n                return SpawnHelper.generateRemoteMinerOptions(roomState);\r\n            case ROLE_REMOTE_HARVESTER:\r\n                return SpawnHelper.generateRemoteHarvesterOptions(roomState);\r\n            case ROLE_COLONIZER:\r\n                return SpawnHelper.generateRemoteColonizerOptions(roomState);\r\n            case ROLE_REMOTE_DEFENDER:\r\n                return SpawnHelper.generateRemoteDefenderOptions(roomState);\r\n            case ROLE_REMOTE_RESERVER:\r\n                return SpawnHelper.generateRemoteReserverOptions(roomState);\r\n            case ROLE_ZEALOT:\r\n                return SpawnHelper.generateZealotOptions(roomState, squadSize, squadUUID, rallyLocation);\r\n            case ROLE_MEDIC:\r\n                return SpawnHelper.generateMedicOptions(roomState, squadSize, squadUUID, rallyLocation);\r\n            case ROLE_STALKER:\r\n                return SpawnHelper.generateStalkerOptions(roomState, squadSize, squadUUID, rallyLocation);\r\n            default:\r\n                throw new UserException(\r\n                    \"Creep body failed generating.\",\r\n                    'The role \"' + role + '\" was invalid for generating the creep body.',\r\n                    ERROR_ERROR\r\n                );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Generate the body for the creep based on the tier and role\r\n     * @param tier the tier our room is at\r\n     * @param role the role of the creep we want\r\n     */\r\n    public static generateCreepBody(tier: TierConstant, role: RoleConstant | null): BodyPartConstant[] {\r\n        // Call the correct helper function based on creep role\r\n        switch (role) {\r\n            case ROLE_MINER:\r\n                return SpawnHelper.generateMinerBody(tier);\r\n            case ROLE_HARVESTER:\r\n                return SpawnHelper.generateHarvesterBody(tier);\r\n            case ROLE_WORKER:\r\n                return SpawnHelper.generateWorkerBody(tier);\r\n            case ROLE_LORRY:\r\n                return SpawnHelper.generateLorryBody(tier);\r\n            case ROLE_POWER_UPGRADER:\r\n                return SpawnHelper.generatePowerUpgraderBody(tier);\r\n            case ROLE_REMOTE_MINER:\r\n                return SpawnHelper.generateRemoteMinerBody(tier);\r\n            case ROLE_REMOTE_HARVESTER:\r\n                return SpawnHelper.generateRemoteHarvesterBody(tier);\r\n            case ROLE_COLONIZER:\r\n                return SpawnHelper.generateRemoteColonizerBody(tier);\r\n            case ROLE_REMOTE_DEFENDER:\r\n                return SpawnHelper.generateRemoteDefenderBody(tier);\r\n            case ROLE_REMOTE_RESERVER:\r\n                return SpawnHelper.generateRemoteReserverBody(tier);\r\n            case ROLE_ZEALOT:\r\n                return SpawnHelper.generateZealotBody(tier);\r\n            case ROLE_MEDIC:\r\n                return SpawnHelper.generateMedicBody(tier);\r\n            case ROLE_STALKER:\r\n                return SpawnHelper.generateStalkerBody(tier);\r\n            default:\r\n                throw new UserException(\r\n                    \"Creep body failed generating.\",\r\n                    'The role \"' + role + '\" was invalid for generating the creep body.',\r\n                    ERROR_ERROR\r\n                );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Returns a creep body part array, or null if invalid parameters were passed in\r\n     * @param bodyObject The object that describes the creep's body parts\r\n     * @param opts The options for generating the creep body from the descriptor\r\n     */\r\n    public static getCreepBody(bodyObject: CreepBodyDescriptor, opts?: CreepBodyOptions): BodyPartConstant[] {\r\n        let creepBody: BodyPartConstant[] = [];\r\n        let numHealParts = 0;\r\n\r\n        /**\r\n         * If opts is undefined, use default options\r\n         */\r\n        if (opts === undefined) {\r\n            opts = { mixType: GROUPED, toughFirst: false, healLast: false };\r\n        }\r\n\r\n        /**\r\n         * Verify bodyObject - Return null if invalid\r\n         */\r\n        if (SpawnHelper.verifyDescriptor(bodyObject) === false) {\r\n            throw new UserException(\r\n                \"Invalid Creep Body Descriptor\",\r\n                \"Ensure that the object being passed to getCreepBody is in the format { BodyPartConstant: NumberParts } and that NumberParts is > 0.\",\r\n                ERROR_ERROR\r\n            );\r\n        }\r\n\r\n        /**\r\n         * Append tough parts on creepBody first - Delete tough property from bodyObject\r\n         */\r\n        if (opts.toughFirst && bodyObject.tough) {\r\n            creepBody = SpawnHelper.generateParts(\"tough\", bodyObject.tough);\r\n            delete bodyObject.tough;\r\n        }\r\n\r\n        /**\r\n         * Retain Heal Information to append on the end of creepBody - Delete heal property from bodyObject\r\n         */\r\n        if (opts.healLast && bodyObject.heal) {\r\n            numHealParts = bodyObject.heal;\r\n            delete bodyObject.heal;\r\n        }\r\n\r\n        /**\r\n         * If mixType is grouped, add onto creepBody\r\n         */\r\n        if (opts.mixType === GROUPED) {\r\n            const bodyParts = SpawnHelper.getBody_Grouped(bodyObject);\r\n            for (let i = 0; i < bodyParts.length; i++) {\r\n                creepBody.push(bodyParts[i]);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * If mixType is collated, add onto creepBody\r\n         */\r\n        if (opts.mixType === COLLATED) {\r\n            const bodyParts = SpawnHelper.getBody_Collated(bodyObject);\r\n            for (let i = 0; i < bodyParts.length; i++) {\r\n                creepBody.push(bodyParts[i]);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Append Heal Information that was retained at the beginning of the function\r\n         */\r\n        if (opts.healLast) {\r\n            for (let i = 0; i < numHealParts; i++) {\r\n                creepBody.push(\"heal\");\r\n            }\r\n        }\r\n\r\n        // If creepBody is empty, return undefined\r\n        if (creepBody.length === 0) {\r\n            return [];\r\n        } else {\r\n            return creepBody;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Returns the number of miners that are not spawning, and have > 50 ticksToLive\r\n     * @param room the room we are checking in\r\n     */\r\n    private static getActiveMiners(room: Room): number {\r\n        let miners = MemoryHelper.getCreepOfRole(room, ROLE_MINER);\r\n        miners = _.filter(miners, (creep: Creep) => {\r\n            // False if miner is spawning or has less than 50 ticks to live\r\n            return !creep.spawning && creep.ticksToLive! > 50;\r\n        });\r\n        return miners.length;\r\n    }\r\n\r\n    /**\r\n     * generates a UUID for a squad\r\n     */\r\n    public static generateSquadUUID(seed?: number) {\r\n        return Math.random() * 10000000;\r\n    }\r\n\r\n    /**\r\n     * generates options for spawning a squad based on the attack room's specifications\r\n     * @param room the room we are spawning the squad in\r\n     */\r\n    public static generateSquadOptions(room: Room): StringMap {\r\n        const squadOptions: StringMap = {\r\n            squadSize: 0,\r\n            squadUUID: null,\r\n            rallyLocation: null\r\n        };\r\n\r\n        // use the attack room memory to get the actual values of the options\r\n\r\n        return squadOptions;\r\n    }\r\n\r\n    /**\r\n     * get the target room for the creep\r\n     * TODO\r\n     * @param room the room we are spawning the squad in\r\n     */\r\n    public static getCreepTargetRoom(room: Room): string {\r\n        return \"\";\r\n    }\r\n\r\n    /**\r\n     * get the home room for the creep\r\n     * @param room the room the creep is spawning in\r\n     */\r\n    public static getCreepHomeRoom(room: Room): string {\r\n        // incomplete for now, need to handle special case (only reason this is in a function really)\r\n        // for colonizers. We just wanna set their home room to their target room basically so they automatically will go there\r\n        // handle their budniss. Another potential use case of this would be sending creeps to other rooms\r\n        // the easiest way to do that is just changing their home room in memory, so we could add something to detect\r\n        // if a creep being born is meant for another room and handle that accordingly here (ez pz)\r\n        return room.name;\r\n    }\r\n}\r\n","import RoomHelper from \"Helpers/RoomHelper\";\r\nimport { SpawnHelper } from \"Helpers/SpawnHelper\";\r\nimport {\r\n    domesticRolePriority,\r\n    militaryRolePriority,\r\n    remoteRolePriority,\r\n    ROLE_COLONIZER,\r\n    ROLE_REMOTE_MINER,\r\n    ROLE_REMOTE_RESERVER,\r\n    ROLE_LORRY,\r\n    ROLE_HARVESTER,\r\n    ROLE_MEDIC,\r\n    ROLE_MINER,\r\n    ROLE_POWER_UPGRADER,\r\n    ROLE_REMOTE_DEFENDER,\r\n    ROLE_REMOTE_HARVESTER,\r\n    ROLE_STALKER,\r\n    ROLE_WORKER,\r\n    ROLE_ZEALOT,\r\n    GROUPED,\r\n    COLLATED,\r\n    ROOM_STATE_INTRO,\r\n    ROOM_STATE_BEGINNER,\r\n    ROOM_STATE_INTER,\r\n    ROOM_STATE_ADVANCED,\r\n    ROOM_STATE_NUKE_INBOUND,\r\n    ROOM_STATE_SEIGE,\r\n    ROOM_STATE_STIMULATE,\r\n    ROOM_STATE_UPGRADER,\r\n    TIER_1,\r\n    TIER_2,\r\n    TIER_3,\r\n    TIER_4,\r\n    TIER_5,\r\n    TIER_6,\r\n    TIER_7,\r\n    TIER_8\r\n} from \"utils/Constants\";\r\nimport SpawnApi from \"../Api/Spawn.Api\";\r\n\r\n// handles spawning for every room\r\nexport default class SpawnManager {\r\n    /**\r\n     * run the spawning for the AI for each room\r\n     */\r\n    public static runSpawnManager(): void {\r\n        const ownedRooms = _.filter(Game.rooms, (room: Room) => RoomHelper.isOwnedRoom(room));\r\n\r\n        // Loop over all rooms and run the spawn for each one\r\n        for (const room of ownedRooms) {\r\n            this.runSpawnForRoom(room);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * run spawn ai for a specific room\r\n     * @param room the room we are running spawn for\r\n     */\r\n    public static runSpawnForRoom(room: Room): void {\r\n        const openSpawn: StructureSpawn | null = SpawnApi.getOpenSpawn(room);\r\n        // get tier\r\n\r\n        // if we don't have an open spawn, return early\r\n        if (openSpawn === null) {\r\n            return;\r\n        }\r\n\r\n        // If we have a spawn, generate creep limits for the room\r\n        SpawnApi.setCreepLimits(room);\r\n\r\n        // add method to generate the over ride values from flags for the military creeps\r\n        const nextCreepRole: RoleConstant | null = SpawnApi.getNextCreep(room);\r\n\r\n        // If we are spawning a creep this tick, continue from here\r\n        if (nextCreepRole) {\r\n            const energyAvailable: number = room.energyAvailable;\r\n            const roomTier: TierConstant = SpawnApi.getTier(room, nextCreepRole);\r\n            const creepBody: BodyPartConstant[] = SpawnApi.generateCreepBody(roomTier, nextCreepRole);\r\n            const bodyEnergyCost: number = SpawnApi.getEnergyCostOfBody(creepBody);\r\n\r\n            // Check if we even have enough energy to even spawn this potential monstrosity\r\n            if (energyAvailable >= bodyEnergyCost) {\r\n                // Get all the information we will need to spawn the next creep\r\n                const roomState: RoomStateConstant = room.memory.roomState;\r\n                const militarySquadOptions: StringMap = SpawnApi.generateSquadOptions(room);\r\n                const targetRoom: string = SpawnApi.getCreepTargetRoom(room);\r\n                const homeRoom: string = SpawnApi.getCreepHomeRoom(room);\r\n                const creepOptions: any = SpawnApi.generateCreepOptions(\r\n                    room,\r\n                    nextCreepRole,\r\n                    roomState,\r\n                    militarySquadOptions[\"squadSize\"],\r\n                    militarySquadOptions[\"squadUUID\"],\r\n                    militarySquadOptions[\"rallyLocation\"]\r\n                );\r\n\r\n                // Spawn the creep\r\n                SpawnApi.spawnNextCreep(room, creepBody, creepOptions, nextCreepRole, openSpawn, homeRoom, targetRoom);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// Current todo to finish Spawning ------\r\n/*\r\n            getCreepTargetRoom()\r\n            We need to come up with a way to figure out what room a remote/military creep\r\n            needs to go to.\r\n            My idea for this is to create a function in SpawnApi that does precisely this.\r\n            Using remote room for example let say we have 2 remote rooms and want to spawn a remote miner:\r\n            The function will get both remote rooms and add their names to an array\r\n            We will get every living creep that is a remote miner and loop over them\r\n            we get the remtoe room that has the least amount of remote miners that consider them a target room\r\n            we return this room as the creeps target room\r\n            If they are all the same value, we just select the closeset one potentially\r\n\r\n            fill out generateSquadOptions\r\n            This one is a little simpler as it will just find the attackRoom in the spawning room's memory\r\n            (this will be the same room found in the previous function btw, so this will have to come second)\r\n            Then it just scrapes the values from the memory object.. easy enough\r\n\r\n            complete getCreepHomeRoom to handle colonizers (it might be literally as easy as calling the getCreepTargetRoom\r\n            function from that method if its a remote colonizer)\r\n            When we start handling empire level stuff like inter-room assistance then we can add to it then\r\n\r\n            Thats all I can think of, add to this if you think of anything. But I believe once the above cases\r\n            are handled that spawn is completely functional. We will obviously be tweaking numbers later once we are\r\n            implementing the code base in game. biggest one i can think of is when we need lorries to spawn. Like we will\r\n            def have to go back and decide for cases for lorries/more workers/etc to spawn later and we can add it into\r\n            spawn api on like get limits (so we avoid directly changing the limits from wherever we are working out of)\r\n            We will probably just have like a getLorryLimit function that it calls to decide all of this stuff, similar to\r\n            how remoteDefenders are handled since they are also a special case\r\n        */\r\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n\n/**\n * Encode an integer in the range of 0 to 63 to a single base 64 digit.\n */\nexports.encode = function (number) {\n  if (0 <= number && number < intToCharMap.length) {\n    return intToCharMap[number];\n  }\n  throw new TypeError(\"Must be between 0 and 63: \" + number);\n};\n\n/**\n * Decode a single base 64 character code digit to an integer. Returns -1 on\n * failure.\n */\nexports.decode = function (charCode) {\n  var bigA = 65;     // 'A'\n  var bigZ = 90;     // 'Z'\n\n  var littleA = 97;  // 'a'\n  var littleZ = 122; // 'z'\n\n  var zero = 48;     // '0'\n  var nine = 57;     // '9'\n\n  var plus = 43;     // '+'\n  var slash = 47;    // '/'\n\n  var littleOffset = 26;\n  var numberOffset = 52;\n\n  // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n  if (bigA <= charCode && charCode <= bigZ) {\n    return (charCode - bigA);\n  }\n\n  // 26 - 51: abcdefghijklmnopqrstuvwxyz\n  if (littleA <= charCode && charCode <= littleZ) {\n    return (charCode - littleA + littleOffset);\n  }\n\n  // 52 - 61: 0123456789\n  if (zero <= charCode && charCode <= nine) {\n    return (charCode - zero + numberOffset);\n  }\n\n  // 62: +\n  if (charCode == plus) {\n    return 62;\n  }\n\n  // 63: /\n  if (charCode == slash) {\n    return 63;\n  }\n\n  // Invalid base64 digit.\n  return -1;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar base64 = require('./base64');\n\n// A single base 64 digit can contain 6 bits of data. For the base 64 variable\n// length quantities we use in the source map spec, the first bit is the sign,\n// the next four bits are the actual value, and the 6th bit is the\n// continuation bit. The continuation bit tells us whether there are more\n// digits in this value following this digit.\n//\n//   Continuation\n//   |    Sign\n//   |    |\n//   V    V\n//   101011\n\nvar VLQ_BASE_SHIFT = 5;\n\n// binary: 100000\nvar VLQ_BASE = 1 << VLQ_BASE_SHIFT;\n\n// binary: 011111\nvar VLQ_BASE_MASK = VLQ_BASE - 1;\n\n// binary: 100000\nvar VLQ_CONTINUATION_BIT = VLQ_BASE;\n\n/**\n * Converts from a two-complement value to a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n */\nfunction toVLQSigned(aValue) {\n  return aValue < 0\n    ? ((-aValue) << 1) + 1\n    : (aValue << 1) + 0;\n}\n\n/**\n * Converts to a two-complement value from a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n */\nfunction fromVLQSigned(aValue) {\n  var isNegative = (aValue & 1) === 1;\n  var shifted = aValue >> 1;\n  return isNegative\n    ? -shifted\n    : shifted;\n}\n\n/**\n * Returns the base 64 VLQ encoded value.\n */\nexports.encode = function base64VLQ_encode(aValue) {\n  var encoded = \"\";\n  var digit;\n\n  var vlq = toVLQSigned(aValue);\n\n  do {\n    digit = vlq & VLQ_BASE_MASK;\n    vlq >>>= VLQ_BASE_SHIFT;\n    if (vlq > 0) {\n      // There are still more digits in this value, so we must make sure the\n      // continuation bit is marked.\n      digit |= VLQ_CONTINUATION_BIT;\n    }\n    encoded += base64.encode(digit);\n  } while (vlq > 0);\n\n  return encoded;\n};\n\n/**\n * Decodes the next base 64 VLQ value from the given string and returns the\n * value and the rest of the string via the out parameter.\n */\nexports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\n  var strLen = aStr.length;\n  var result = 0;\n  var shift = 0;\n  var continuation, digit;\n\n  do {\n    if (aIndex >= strLen) {\n      throw new Error(\"Expected more digits in base 64 VLQ value.\");\n    }\n\n    digit = base64.decode(aStr.charCodeAt(aIndex++));\n    if (digit === -1) {\n      throw new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\n    }\n\n    continuation = !!(digit & VLQ_CONTINUATION_BIT);\n    digit &= VLQ_BASE_MASK;\n    result = result + (digit << shift);\n    shift += VLQ_BASE_SHIFT;\n  } while (continuation);\n\n  aOutParam.value = fromVLQSigned(result);\n  aOutParam.rest = aIndex;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * This is a helper function for getting values from parameter/options\n * objects.\n *\n * @param args The object we are extracting values from\n * @param name The name of the property we are getting.\n * @param defaultValue An optional value to return if the property is missing\n * from the object. If this is not specified and the property is missing, an\n * error will be thrown.\n */\nfunction getArg(aArgs, aName, aDefaultValue) {\n  if (aName in aArgs) {\n    return aArgs[aName];\n  } else if (arguments.length === 3) {\n    return aDefaultValue;\n  } else {\n    throw new Error('\"' + aName + '\" is a required argument.');\n  }\n}\nexports.getArg = getArg;\n\nvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.-]*)(?::(\\d+))?(.*)$/;\nvar dataUrlRegexp = /^data:.+\\,.+$/;\n\nfunction urlParse(aUrl) {\n  var match = aUrl.match(urlRegexp);\n  if (!match) {\n    return null;\n  }\n  return {\n    scheme: match[1],\n    auth: match[2],\n    host: match[3],\n    port: match[4],\n    path: match[5]\n  };\n}\nexports.urlParse = urlParse;\n\nfunction urlGenerate(aParsedUrl) {\n  var url = '';\n  if (aParsedUrl.scheme) {\n    url += aParsedUrl.scheme + ':';\n  }\n  url += '//';\n  if (aParsedUrl.auth) {\n    url += aParsedUrl.auth + '@';\n  }\n  if (aParsedUrl.host) {\n    url += aParsedUrl.host;\n  }\n  if (aParsedUrl.port) {\n    url += \":\" + aParsedUrl.port\n  }\n  if (aParsedUrl.path) {\n    url += aParsedUrl.path;\n  }\n  return url;\n}\nexports.urlGenerate = urlGenerate;\n\n/**\n * Normalizes a path, or the path portion of a URL:\n *\n * - Replaces consecutive slashes with one slash.\n * - Removes unnecessary '.' parts.\n * - Removes unnecessary '<dir>/..' parts.\n *\n * Based on code in the Node.js 'path' core module.\n *\n * @param aPath The path or url to normalize.\n */\nfunction normalize(aPath) {\n  var path = aPath;\n  var url = urlParse(aPath);\n  if (url) {\n    if (!url.path) {\n      return aPath;\n    }\n    path = url.path;\n  }\n  var isAbsolute = exports.isAbsolute(path);\n\n  var parts = path.split(/\\/+/);\n  for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\n    part = parts[i];\n    if (part === '.') {\n      parts.splice(i, 1);\n    } else if (part === '..') {\n      up++;\n    } else if (up > 0) {\n      if (part === '') {\n        // The first part is blank if the path is absolute. Trying to go\n        // above the root is a no-op. Therefore we can remove all '..' parts\n        // directly after the root.\n        parts.splice(i + 1, up);\n        up = 0;\n      } else {\n        parts.splice(i, 2);\n        up--;\n      }\n    }\n  }\n  path = parts.join('/');\n\n  if (path === '') {\n    path = isAbsolute ? '/' : '.';\n  }\n\n  if (url) {\n    url.path = path;\n    return urlGenerate(url);\n  }\n  return path;\n}\nexports.normalize = normalize;\n\n/**\n * Joins two paths/URLs.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be joined with the root.\n *\n * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n *   first.\n * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n *   is updated with the result and aRoot is returned. Otherwise the result\n *   is returned.\n *   - If aPath is absolute, the result is aPath.\n *   - Otherwise the two paths are joined with a slash.\n * - Joining for example 'http://' and 'www.example.com' is also supported.\n */\nfunction join(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n  if (aPath === \"\") {\n    aPath = \".\";\n  }\n  var aPathUrl = urlParse(aPath);\n  var aRootUrl = urlParse(aRoot);\n  if (aRootUrl) {\n    aRoot = aRootUrl.path || '/';\n  }\n\n  // `join(foo, '//www.example.org')`\n  if (aPathUrl && !aPathUrl.scheme) {\n    if (aRootUrl) {\n      aPathUrl.scheme = aRootUrl.scheme;\n    }\n    return urlGenerate(aPathUrl);\n  }\n\n  if (aPathUrl || aPath.match(dataUrlRegexp)) {\n    return aPath;\n  }\n\n  // `join('http://', 'www.example.com')`\n  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n    aRootUrl.host = aPath;\n    return urlGenerate(aRootUrl);\n  }\n\n  var joined = aPath.charAt(0) === '/'\n    ? aPath\n    : normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\n\n  if (aRootUrl) {\n    aRootUrl.path = joined;\n    return urlGenerate(aRootUrl);\n  }\n  return joined;\n}\nexports.join = join;\n\nexports.isAbsolute = function (aPath) {\n  return aPath.charAt(0) === '/' || urlRegexp.test(aPath);\n};\n\n/**\n * Make a path relative to a URL or another path.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be made relative to aRoot.\n */\nfunction relative(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  aRoot = aRoot.replace(/\\/$/, '');\n\n  // It is possible for the path to be above the root. In this case, simply\n  // checking whether the root is a prefix of the path won't work. Instead, we\n  // need to remove components from the root one by one, until either we find\n  // a prefix that fits, or we run out of components to remove.\n  var level = 0;\n  while (aPath.indexOf(aRoot + '/') !== 0) {\n    var index = aRoot.lastIndexOf(\"/\");\n    if (index < 0) {\n      return aPath;\n    }\n\n    // If the only part of the root that is left is the scheme (i.e. http://,\n    // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n    // have exhausted all components, so the path is not relative to the root.\n    aRoot = aRoot.slice(0, index);\n    if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n      return aPath;\n    }\n\n    ++level;\n  }\n\n  // Make sure we add a \"../\" for each component we removed from the root.\n  return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n}\nexports.relative = relative;\n\nvar supportsNullProto = (function () {\n  var obj = Object.create(null);\n  return !('__proto__' in obj);\n}());\n\nfunction identity (s) {\n  return s;\n}\n\n/**\n * Because behavior goes wacky when you set `__proto__` on objects, we\n * have to prefix all the strings in our set with an arbitrary character.\n *\n * See https://github.com/mozilla/source-map/pull/31 and\n * https://github.com/mozilla/source-map/issues/30\n *\n * @param String aStr\n */\nfunction toSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return '$' + aStr;\n  }\n\n  return aStr;\n}\nexports.toSetString = supportsNullProto ? identity : toSetString;\n\nfunction fromSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return aStr.slice(1);\n  }\n\n  return aStr;\n}\nexports.fromSetString = supportsNullProto ? identity : fromSetString;\n\nfunction isProtoString(s) {\n  if (!s) {\n    return false;\n  }\n\n  var length = s.length;\n\n  if (length < 9 /* \"__proto__\".length */) {\n    return false;\n  }\n\n  if (s.charCodeAt(length - 1) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 2) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 3) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 4) !== 116 /* 't' */ ||\n      s.charCodeAt(length - 5) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 6) !== 114 /* 'r' */ ||\n      s.charCodeAt(length - 7) !== 112 /* 'p' */ ||\n      s.charCodeAt(length - 8) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 9) !== 95  /* '_' */) {\n    return false;\n  }\n\n  for (var i = length - 10; i >= 0; i--) {\n    if (s.charCodeAt(i) !== 36 /* '$' */) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Comparator between two mappings where the original positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same original source/line/column, but different generated\n * line and column the same. Useful when searching for a mapping with a\n * stubbed out mapping.\n */\nfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByOriginalPositions = compareByOriginalPositions;\n\n/**\n * Comparator between two mappings with deflated source and name indices where\n * the generated positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same generated line and column, but different\n * source/name/original line and column the same. Useful when searching for a\n * mapping with a stubbed out mapping.\n */\nfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\nfunction strcmp(aStr1, aStr2) {\n  if (aStr1 === aStr2) {\n    return 0;\n  }\n\n  if (aStr1 === null) {\n    return 1; // aStr2 !== null\n  }\n\n  if (aStr2 === null) {\n    return -1; // aStr1 !== null\n  }\n\n  if (aStr1 > aStr2) {\n    return 1;\n  }\n\n  return -1;\n}\n\n/**\n * Comparator between two mappings with inflated source and name strings where\n * the generated positions are compared.\n */\nfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\n\n/**\n * Strip any JSON XSSI avoidance prefix from the string (as documented\n * in the source maps specification), and then parse the string as\n * JSON.\n */\nfunction parseSourceMapInput(str) {\n  return JSON.parse(str.replace(/^\\)]}'[^\\n]*\\n/, ''));\n}\nexports.parseSourceMapInput = parseSourceMapInput;\n\n/**\n * Compute the URL of a source given the the source root, the source's\n * URL, and the source map's URL.\n */\nfunction computeSourceURL(sourceRoot, sourceURL, sourceMapURL) {\n  sourceURL = sourceURL || '';\n\n  if (sourceRoot) {\n    // This follows what Chrome does.\n    if (sourceRoot[sourceRoot.length - 1] !== '/' && sourceURL[0] !== '/') {\n      sourceRoot += '/';\n    }\n    // The spec says:\n    //   Line 4: An optional source root, useful for relocating source\n    //   files on a server or removing repeated values in the\n    //   sources entry.  This value is prepended to the individual\n    //   entries in the source field.\n    sourceURL = sourceRoot + sourceURL;\n  }\n\n  // Historically, SourceMapConsumer did not take the sourceMapURL as\n  // a parameter.  This mode is still somewhat supported, which is why\n  // this code block is conditional.  However, it's preferable to pass\n  // the source map URL to SourceMapConsumer, so that this function\n  // can implement the source URL resolution algorithm as outlined in\n  // the spec.  This block is basically the equivalent of:\n  //    new URL(sourceURL, sourceMapURL).toString()\n  // ... except it avoids using URL, which wasn't available in the\n  // older releases of node still supported by this library.\n  //\n  // The spec says:\n  //   If the sources are not absolute URLs after prepending of the\n  //   sourceRoot, the sources are resolved relative to the\n  //   SourceMap (like resolving script src in a html document).\n  if (sourceMapURL) {\n    var parsed = urlParse(sourceMapURL);\n    if (!parsed) {\n      throw new Error(\"sourceMapURL could not be parsed\");\n    }\n    if (parsed.path) {\n      // Strip the last path component, but keep the \"/\".\n      var index = parsed.path.lastIndexOf('/');\n      if (index >= 0) {\n        parsed.path = parsed.path.substring(0, index + 1);\n      }\n    }\n    sourceURL = join(urlGenerate(parsed), sourceURL);\n  }\n\n  return normalize(sourceURL);\n}\nexports.computeSourceURL = computeSourceURL;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar has = Object.prototype.hasOwnProperty;\nvar hasNativeMap = typeof Map !== \"undefined\";\n\n/**\n * A data structure which is a combination of an array and a set. Adding a new\n * member is O(1), testing for membership is O(1), and finding the index of an\n * element is O(1). Removing elements from the set is not supported. Only\n * strings are supported for membership.\n */\nfunction ArraySet() {\n  this._array = [];\n  this._set = hasNativeMap ? new Map() : Object.create(null);\n}\n\n/**\n * Static method for creating ArraySet instances from an existing array.\n */\nArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\n  var set = new ArraySet();\n  for (var i = 0, len = aArray.length; i < len; i++) {\n    set.add(aArray[i], aAllowDuplicates);\n  }\n  return set;\n};\n\n/**\n * Return how many unique items are in this ArraySet. If duplicates have been\n * added, than those do not count towards the size.\n *\n * @returns Number\n */\nArraySet.prototype.size = function ArraySet_size() {\n  return hasNativeMap ? this._set.size : Object.getOwnPropertyNames(this._set).length;\n};\n\n/**\n * Add the given string to this set.\n *\n * @param String aStr\n */\nArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\n  var sStr = hasNativeMap ? aStr : util.toSetString(aStr);\n  var isDuplicate = hasNativeMap ? this.has(aStr) : has.call(this._set, sStr);\n  var idx = this._array.length;\n  if (!isDuplicate || aAllowDuplicates) {\n    this._array.push(aStr);\n  }\n  if (!isDuplicate) {\n    if (hasNativeMap) {\n      this._set.set(aStr, idx);\n    } else {\n      this._set[sStr] = idx;\n    }\n  }\n};\n\n/**\n * Is the given string a member of this set?\n *\n * @param String aStr\n */\nArraySet.prototype.has = function ArraySet_has(aStr) {\n  if (hasNativeMap) {\n    return this._set.has(aStr);\n  } else {\n    var sStr = util.toSetString(aStr);\n    return has.call(this._set, sStr);\n  }\n};\n\n/**\n * What is the index of the given string in the array?\n *\n * @param String aStr\n */\nArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\n  if (hasNativeMap) {\n    var idx = this._set.get(aStr);\n    if (idx >= 0) {\n        return idx;\n    }\n  } else {\n    var sStr = util.toSetString(aStr);\n    if (has.call(this._set, sStr)) {\n      return this._set[sStr];\n    }\n  }\n\n  throw new Error('\"' + aStr + '\" is not in the set.');\n};\n\n/**\n * What is the element at the given index?\n *\n * @param Number aIdx\n */\nArraySet.prototype.at = function ArraySet_at(aIdx) {\n  if (aIdx >= 0 && aIdx < this._array.length) {\n    return this._array[aIdx];\n  }\n  throw new Error('No element indexed by ' + aIdx);\n};\n\n/**\n * Returns the array representation of this set (which has the proper indices\n * indicated by indexOf). Note that this is a copy of the internal array used\n * for storing the members so that no one can mess with internal state.\n */\nArraySet.prototype.toArray = function ArraySet_toArray() {\n  return this._array.slice();\n};\n\nexports.ArraySet = ArraySet;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nexports.GREATEST_LOWER_BOUND = 1;\nexports.LEAST_UPPER_BOUND = 2;\n\n/**\n * Recursive implementation of binary search.\n *\n * @param aLow Indices here and lower do not contain the needle.\n * @param aHigh Indices here and higher do not contain the needle.\n * @param aNeedle The element being searched for.\n * @param aHaystack The non-empty array being searched.\n * @param aCompare Function which takes two elements and returns -1, 0, or 1.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n */\nfunction recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) {\n  // This function terminates when one of the following is true:\n  //\n  //   1. We find the exact element we are looking for.\n  //\n  //   2. We did not find the exact element, but we can return the index of\n  //      the next-closest element.\n  //\n  //   3. We did not find the exact element, and there is no next-closest\n  //      element than the one we are searching for, so we return -1.\n  var mid = Math.floor((aHigh - aLow) / 2) + aLow;\n  var cmp = aCompare(aNeedle, aHaystack[mid], true);\n  if (cmp === 0) {\n    // Found the element we are looking for.\n    return mid;\n  }\n  else if (cmp > 0) {\n    // Our needle is greater than aHaystack[mid].\n    if (aHigh - mid > 1) {\n      // The element is in the upper half.\n      return recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // The exact needle element was not found in this haystack. Determine if\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return aHigh < aHaystack.length ? aHigh : -1;\n    } else {\n      return mid;\n    }\n  }\n  else {\n    // Our needle is less than aHaystack[mid].\n    if (mid - aLow > 1) {\n      // The element is in the lower half.\n      return recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return mid;\n    } else {\n      return aLow < 0 ? -1 : aLow;\n    }\n  }\n}\n\n/**\n * This is an implementation of binary search which will always try and return\n * the index of the closest element if there is no exact hit. This is because\n * mappings between original and generated line/col pairs are single points,\n * and there is an implicit region between each of them, so a miss just means\n * that you aren't on the very start of a region.\n *\n * @param aNeedle The element you are looking for.\n * @param aHaystack The array that is being searched.\n * @param aCompare A function which takes the needle and an element in the\n *     array and returns -1, 0, or 1 depending on whether the needle is less\n *     than, equal to, or greater than the element, respectively.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'binarySearch.GREATEST_LOWER_BOUND'.\n */\nexports.search = function search(aNeedle, aHaystack, aCompare, aBias) {\n  if (aHaystack.length === 0) {\n    return -1;\n  }\n\n  var index = recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack,\n                              aCompare, aBias || exports.GREATEST_LOWER_BOUND);\n  if (index < 0) {\n    return -1;\n  }\n\n  // We have found either the exact element, or the next-closest element than\n  // the one we are searching for. However, there may be more than one such\n  // element. Make sure we always return the smallest of these.\n  while (index - 1 >= 0) {\n    if (aCompare(aHaystack[index], aHaystack[index - 1], true) !== 0) {\n      break;\n    }\n    --index;\n  }\n\n  return index;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n// It turns out that some (most?) JavaScript engines don't self-host\n// `Array.prototype.sort`. This makes sense because C++ will likely remain\n// faster than JS when doing raw CPU-intensive sorting. However, when using a\n// custom comparator function, calling back and forth between the VM's C++ and\n// JIT'd JS is rather slow *and* loses JIT type information, resulting in\n// worse generated code for the comparator function than would be optimal. In\n// fact, when sorting with a comparator, these costs outweigh the benefits of\n// sorting in C++. By using our own JS-implemented Quick Sort (below), we get\n// a ~3500ms mean speed-up in `bench/bench.html`.\n\n/**\n * Swap the elements indexed by `x` and `y` in the array `ary`.\n *\n * @param {Array} ary\n *        The array.\n * @param {Number} x\n *        The index of the first item.\n * @param {Number} y\n *        The index of the second item.\n */\nfunction swap(ary, x, y) {\n  var temp = ary[x];\n  ary[x] = ary[y];\n  ary[y] = temp;\n}\n\n/**\n * Returns a random integer within the range `low .. high` inclusive.\n *\n * @param {Number} low\n *        The lower bound on the range.\n * @param {Number} high\n *        The upper bound on the range.\n */\nfunction randomIntInRange(low, high) {\n  return Math.round(low + (Math.random() * (high - low)));\n}\n\n/**\n * The Quick Sort algorithm.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n * @param {Number} p\n *        Start index of the array\n * @param {Number} r\n *        End index of the array\n */\nfunction doQuickSort(ary, comparator, p, r) {\n  // If our lower bound is less than our upper bound, we (1) partition the\n  // array into two pieces and (2) recurse on each half. If it is not, this is\n  // the empty array and our base case.\n\n  if (p < r) {\n    // (1) Partitioning.\n    //\n    // The partitioning chooses a pivot between `p` and `r` and moves all\n    // elements that are less than or equal to the pivot to the before it, and\n    // all the elements that are greater than it after it. The effect is that\n    // once partition is done, the pivot is in the exact place it will be when\n    // the array is put in sorted order, and it will not need to be moved\n    // again. This runs in O(n) time.\n\n    // Always choose a random pivot so that an input array which is reverse\n    // sorted does not cause O(n^2) running time.\n    var pivotIndex = randomIntInRange(p, r);\n    var i = p - 1;\n\n    swap(ary, pivotIndex, r);\n    var pivot = ary[r];\n\n    // Immediately after `j` is incremented in this loop, the following hold\n    // true:\n    //\n    //   * Every element in `ary[p .. i]` is less than or equal to the pivot.\n    //\n    //   * Every element in `ary[i+1 .. j-1]` is greater than the pivot.\n    for (var j = p; j < r; j++) {\n      if (comparator(ary[j], pivot) <= 0) {\n        i += 1;\n        swap(ary, i, j);\n      }\n    }\n\n    swap(ary, i + 1, j);\n    var q = i + 1;\n\n    // (2) Recurse on each half.\n\n    doQuickSort(ary, comparator, p, q - 1);\n    doQuickSort(ary, comparator, q + 1, r);\n  }\n}\n\n/**\n * Sort the given array in-place with the given comparator function.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n */\nexports.quickSort = function (ary, comparator) {\n  doQuickSort(ary, comparator, 0, ary.length - 1);\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar binarySearch = require('./binary-search');\nvar ArraySet = require('./array-set').ArraySet;\nvar base64VLQ = require('./base64-vlq');\nvar quickSort = require('./quick-sort').quickSort;\n\nfunction SourceMapConsumer(aSourceMap, aSourceMapURL) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  return sourceMap.sections != null\n    ? new IndexedSourceMapConsumer(sourceMap, aSourceMapURL)\n    : new BasicSourceMapConsumer(sourceMap, aSourceMapURL);\n}\n\nSourceMapConsumer.fromSourceMap = function(aSourceMap, aSourceMapURL) {\n  return BasicSourceMapConsumer.fromSourceMap(aSourceMap, aSourceMapURL);\n}\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nSourceMapConsumer.prototype._version = 3;\n\n// `__generatedMappings` and `__originalMappings` are arrays that hold the\n// parsed mapping coordinates from the source map's \"mappings\" attribute. They\n// are lazily instantiated, accessed via the `_generatedMappings` and\n// `_originalMappings` getters respectively, and we only parse the mappings\n// and create these arrays once queried for a source location. We jump through\n// these hoops because there can be many thousands of mappings, and parsing\n// them is expensive, so we only want to do it if we must.\n//\n// Each object in the arrays is of the form:\n//\n//     {\n//       generatedLine: The line number in the generated code,\n//       generatedColumn: The column number in the generated code,\n//       source: The path to the original source file that generated this\n//               chunk of code,\n//       originalLine: The line number in the original source that\n//                     corresponds to this chunk of generated code,\n//       originalColumn: The column number in the original source that\n//                       corresponds to this chunk of generated code,\n//       name: The name of the original symbol which generated this chunk of\n//             code.\n//     }\n//\n// All properties except for `generatedLine` and `generatedColumn` can be\n// `null`.\n//\n// `_generatedMappings` is ordered by the generated positions.\n//\n// `_originalMappings` is ordered by the original positions.\n\nSourceMapConsumer.prototype.__generatedMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_generatedMappings', {\n  configurable: true,\n  enumerable: true,\n  get: function () {\n    if (!this.__generatedMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__generatedMappings;\n  }\n});\n\nSourceMapConsumer.prototype.__originalMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_originalMappings', {\n  configurable: true,\n  enumerable: true,\n  get: function () {\n    if (!this.__originalMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__originalMappings;\n  }\n});\n\nSourceMapConsumer.prototype._charIsMappingSeparator =\n  function SourceMapConsumer_charIsMappingSeparator(aStr, index) {\n    var c = aStr.charAt(index);\n    return c === \";\" || c === \",\";\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    throw new Error(\"Subclasses must implement _parseMappings\");\n  };\n\nSourceMapConsumer.GENERATED_ORDER = 1;\nSourceMapConsumer.ORIGINAL_ORDER = 2;\n\nSourceMapConsumer.GREATEST_LOWER_BOUND = 1;\nSourceMapConsumer.LEAST_UPPER_BOUND = 2;\n\n/**\n * Iterate over each mapping between an original source/line/column and a\n * generated line/column in this source map.\n *\n * @param Function aCallback\n *        The function that is called with each mapping.\n * @param Object aContext\n *        Optional. If specified, this object will be the value of `this` every\n *        time that `aCallback` is called.\n * @param aOrder\n *        Either `SourceMapConsumer.GENERATED_ORDER` or\n *        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to\n *        iterate over the mappings sorted by the generated file's line/column\n *        order or the original's source/line/column order, respectively. Defaults to\n *        `SourceMapConsumer.GENERATED_ORDER`.\n */\nSourceMapConsumer.prototype.eachMapping =\n  function SourceMapConsumer_eachMapping(aCallback, aContext, aOrder) {\n    var context = aContext || null;\n    var order = aOrder || SourceMapConsumer.GENERATED_ORDER;\n\n    var mappings;\n    switch (order) {\n    case SourceMapConsumer.GENERATED_ORDER:\n      mappings = this._generatedMappings;\n      break;\n    case SourceMapConsumer.ORIGINAL_ORDER:\n      mappings = this._originalMappings;\n      break;\n    default:\n      throw new Error(\"Unknown order of iteration.\");\n    }\n\n    var sourceRoot = this.sourceRoot;\n    mappings.map(function (mapping) {\n      var source = mapping.source === null ? null : this._sources.at(mapping.source);\n      source = util.computeSourceURL(sourceRoot, source, this._sourceMapURL);\n      return {\n        source: source,\n        generatedLine: mapping.generatedLine,\n        generatedColumn: mapping.generatedColumn,\n        originalLine: mapping.originalLine,\n        originalColumn: mapping.originalColumn,\n        name: mapping.name === null ? null : this._names.at(mapping.name)\n      };\n    }, this).forEach(aCallback, context);\n  };\n\n/**\n * Returns all generated line and column information for the original source,\n * line, and column provided. If no column is provided, returns all mappings\n * corresponding to a either the line we are searching for or the next\n * closest line that has any mappings. Otherwise, returns all mappings\n * corresponding to the given line and either the column we are searching for\n * or the next closest column that has any offsets.\n *\n * The only argument is an object with the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.  The line number is 1-based.\n *   - column: Optional. the column number in the original source.\n *    The column number is 0-based.\n *\n * and an array of objects is returned, each with the following properties:\n *\n *   - line: The line number in the generated source, or null.  The\n *    line number is 1-based.\n *   - column: The column number in the generated source, or null.\n *    The column number is 0-based.\n */\nSourceMapConsumer.prototype.allGeneratedPositionsFor =\n  function SourceMapConsumer_allGeneratedPositionsFor(aArgs) {\n    var line = util.getArg(aArgs, 'line');\n\n    // When there is no exact match, BasicSourceMapConsumer.prototype._findMapping\n    // returns the index of the closest mapping less than the needle. By\n    // setting needle.originalColumn to 0, we thus find the last mapping for\n    // the given line, provided such a mapping exists.\n    var needle = {\n      source: util.getArg(aArgs, 'source'),\n      originalLine: line,\n      originalColumn: util.getArg(aArgs, 'column', 0)\n    };\n\n    needle.source = this._findSourceIndex(needle.source);\n    if (needle.source < 0) {\n      return [];\n    }\n\n    var mappings = [];\n\n    var index = this._findMapping(needle,\n                                  this._originalMappings,\n                                  \"originalLine\",\n                                  \"originalColumn\",\n                                  util.compareByOriginalPositions,\n                                  binarySearch.LEAST_UPPER_BOUND);\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (aArgs.column === undefined) {\n        var originalLine = mapping.originalLine;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we found. Since\n        // mappings are sorted, this is guaranteed to find all mappings for\n        // the line we found.\n        while (mapping && mapping.originalLine === originalLine) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      } else {\n        var originalColumn = mapping.originalColumn;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we were searching for.\n        // Since mappings are sorted, this is guaranteed to find all mappings for\n        // the line we are searching for.\n        while (mapping &&\n               mapping.originalLine === line &&\n               mapping.originalColumn == originalColumn) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      }\n    }\n\n    return mappings;\n  };\n\nexports.SourceMapConsumer = SourceMapConsumer;\n\n/**\n * A BasicSourceMapConsumer instance represents a parsed source map which we can\n * query for information about the original file positions by giving it a file\n * position in the generated source.\n *\n * The first parameter is the raw source map (either as a JSON string, or\n * already parsed to an object). According to the spec, source maps have the\n * following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - sources: An array of URLs to the original source files.\n *   - names: An array of identifiers which can be referrenced by individual mappings.\n *   - sourceRoot: Optional. The URL root from which all sources are relative.\n *   - sourcesContent: Optional. An array of contents of the original source files.\n *   - mappings: A string of base64 VLQs which contain the actual mappings.\n *   - file: Optional. The generated file this source map is associated with.\n *\n * Here is an example source map, taken from the source map spec[0]:\n *\n *     {\n *       version : 3,\n *       file: \"out.js\",\n *       sourceRoot : \"\",\n *       sources: [\"foo.js\", \"bar.js\"],\n *       names: [\"src\", \"maps\", \"are\", \"fun\"],\n *       mappings: \"AA,AB;;ABCDE;\"\n *     }\n *\n * The second parameter, if given, is a string whose value is the URL\n * at which the source map was found.  This URL is used to compute the\n * sources array.\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#\n */\nfunction BasicSourceMapConsumer(aSourceMap, aSourceMapURL) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sources = util.getArg(sourceMap, 'sources');\n  // Sass 3.3 leaves out the 'names' array, so we deviate from the spec (which\n  // requires the array) to play nice here.\n  var names = util.getArg(sourceMap, 'names', []);\n  var sourceRoot = util.getArg(sourceMap, 'sourceRoot', null);\n  var sourcesContent = util.getArg(sourceMap, 'sourcesContent', null);\n  var mappings = util.getArg(sourceMap, 'mappings');\n  var file = util.getArg(sourceMap, 'file', null);\n\n  // Once again, Sass deviates from the spec and supplies the version as a\n  // string rather than a number, so we use loose equality checking here.\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  if (sourceRoot) {\n    sourceRoot = util.normalize(sourceRoot);\n  }\n\n  sources = sources\n    .map(String)\n    // Some source maps produce relative source paths like \"./foo.js\" instead of\n    // \"foo.js\".  Normalize these first so that future comparisons will succeed.\n    // See bugzil.la/1090768.\n    .map(util.normalize)\n    // Always ensure that absolute sources are internally stored relative to\n    // the source root, if the source root is absolute. Not doing this would\n    // be particularly problematic when the source root is a prefix of the\n    // source (valid, but why??). See github issue #199 and bugzil.la/1188982.\n    .map(function (source) {\n      return sourceRoot && util.isAbsolute(sourceRoot) && util.isAbsolute(source)\n        ? util.relative(sourceRoot, source)\n        : source;\n    });\n\n  // Pass `true` below to allow duplicate names and sources. While source maps\n  // are intended to be compressed and deduplicated, the TypeScript compiler\n  // sometimes generates source maps with duplicates in them. See Github issue\n  // #72 and bugzil.la/889492.\n  this._names = ArraySet.fromArray(names.map(String), true);\n  this._sources = ArraySet.fromArray(sources, true);\n\n  this._absoluteSources = this._sources.toArray().map(function (s) {\n    return util.computeSourceURL(sourceRoot, s, aSourceMapURL);\n  });\n\n  this.sourceRoot = sourceRoot;\n  this.sourcesContent = sourcesContent;\n  this._mappings = mappings;\n  this._sourceMapURL = aSourceMapURL;\n  this.file = file;\n}\n\nBasicSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nBasicSourceMapConsumer.prototype.consumer = SourceMapConsumer;\n\n/**\n * Utility function to find the index of a source.  Returns -1 if not\n * found.\n */\nBasicSourceMapConsumer.prototype._findSourceIndex = function(aSource) {\n  var relativeSource = aSource;\n  if (this.sourceRoot != null) {\n    relativeSource = util.relative(this.sourceRoot, relativeSource);\n  }\n\n  if (this._sources.has(relativeSource)) {\n    return this._sources.indexOf(relativeSource);\n  }\n\n  // Maybe aSource is an absolute URL as returned by |sources|.  In\n  // this case we can't simply undo the transform.\n  var i;\n  for (i = 0; i < this._absoluteSources.length; ++i) {\n    if (this._absoluteSources[i] == aSource) {\n      return i;\n    }\n  }\n\n  return -1;\n};\n\n/**\n * Create a BasicSourceMapConsumer from a SourceMapGenerator.\n *\n * @param SourceMapGenerator aSourceMap\n *        The source map that will be consumed.\n * @param String aSourceMapURL\n *        The URL at which the source map can be found (optional)\n * @returns BasicSourceMapConsumer\n */\nBasicSourceMapConsumer.fromSourceMap =\n  function SourceMapConsumer_fromSourceMap(aSourceMap, aSourceMapURL) {\n    var smc = Object.create(BasicSourceMapConsumer.prototype);\n\n    var names = smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), true);\n    var sources = smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), true);\n    smc.sourceRoot = aSourceMap._sourceRoot;\n    smc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(),\n                                                            smc.sourceRoot);\n    smc.file = aSourceMap._file;\n    smc._sourceMapURL = aSourceMapURL;\n    smc._absoluteSources = smc._sources.toArray().map(function (s) {\n      return util.computeSourceURL(smc.sourceRoot, s, aSourceMapURL);\n    });\n\n    // Because we are modifying the entries (by converting string sources and\n    // names to indices into the sources and names ArraySets), we have to make\n    // a copy of the entry or else bad things happen. Shared mutable state\n    // strikes again! See github issue #191.\n\n    var generatedMappings = aSourceMap._mappings.toArray().slice();\n    var destGeneratedMappings = smc.__generatedMappings = [];\n    var destOriginalMappings = smc.__originalMappings = [];\n\n    for (var i = 0, length = generatedMappings.length; i < length; i++) {\n      var srcMapping = generatedMappings[i];\n      var destMapping = new Mapping;\n      destMapping.generatedLine = srcMapping.generatedLine;\n      destMapping.generatedColumn = srcMapping.generatedColumn;\n\n      if (srcMapping.source) {\n        destMapping.source = sources.indexOf(srcMapping.source);\n        destMapping.originalLine = srcMapping.originalLine;\n        destMapping.originalColumn = srcMapping.originalColumn;\n\n        if (srcMapping.name) {\n          destMapping.name = names.indexOf(srcMapping.name);\n        }\n\n        destOriginalMappings.push(destMapping);\n      }\n\n      destGeneratedMappings.push(destMapping);\n    }\n\n    quickSort(smc.__originalMappings, util.compareByOriginalPositions);\n\n    return smc;\n  };\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nBasicSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(BasicSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    return this._absoluteSources.slice();\n  }\n});\n\n/**\n * Provide the JIT with a nice shape / hidden class.\n */\nfunction Mapping() {\n  this.generatedLine = 0;\n  this.generatedColumn = 0;\n  this.source = null;\n  this.originalLine = null;\n  this.originalColumn = null;\n  this.name = null;\n}\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nBasicSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    var generatedLine = 1;\n    var previousGeneratedColumn = 0;\n    var previousOriginalLine = 0;\n    var previousOriginalColumn = 0;\n    var previousSource = 0;\n    var previousName = 0;\n    var length = aStr.length;\n    var index = 0;\n    var cachedSegments = {};\n    var temp = {};\n    var originalMappings = [];\n    var generatedMappings = [];\n    var mapping, str, segment, end, value;\n\n    while (index < length) {\n      if (aStr.charAt(index) === ';') {\n        generatedLine++;\n        index++;\n        previousGeneratedColumn = 0;\n      }\n      else if (aStr.charAt(index) === ',') {\n        index++;\n      }\n      else {\n        mapping = new Mapping();\n        mapping.generatedLine = generatedLine;\n\n        // Because each offset is encoded relative to the previous one,\n        // many segments often have the same encoding. We can exploit this\n        // fact by caching the parsed variable length fields of each segment,\n        // allowing us to avoid a second parse if we encounter the same\n        // segment again.\n        for (end = index; end < length; end++) {\n          if (this._charIsMappingSeparator(aStr, end)) {\n            break;\n          }\n        }\n        str = aStr.slice(index, end);\n\n        segment = cachedSegments[str];\n        if (segment) {\n          index += str.length;\n        } else {\n          segment = [];\n          while (index < end) {\n            base64VLQ.decode(aStr, index, temp);\n            value = temp.value;\n            index = temp.rest;\n            segment.push(value);\n          }\n\n          if (segment.length === 2) {\n            throw new Error('Found a source, but no line and column');\n          }\n\n          if (segment.length === 3) {\n            throw new Error('Found a source and line, but no column');\n          }\n\n          cachedSegments[str] = segment;\n        }\n\n        // Generated column.\n        mapping.generatedColumn = previousGeneratedColumn + segment[0];\n        previousGeneratedColumn = mapping.generatedColumn;\n\n        if (segment.length > 1) {\n          // Original source.\n          mapping.source = previousSource + segment[1];\n          previousSource += segment[1];\n\n          // Original line.\n          mapping.originalLine = previousOriginalLine + segment[2];\n          previousOriginalLine = mapping.originalLine;\n          // Lines are stored 0-based\n          mapping.originalLine += 1;\n\n          // Original column.\n          mapping.originalColumn = previousOriginalColumn + segment[3];\n          previousOriginalColumn = mapping.originalColumn;\n\n          if (segment.length > 4) {\n            // Original name.\n            mapping.name = previousName + segment[4];\n            previousName += segment[4];\n          }\n        }\n\n        generatedMappings.push(mapping);\n        if (typeof mapping.originalLine === 'number') {\n          originalMappings.push(mapping);\n        }\n      }\n    }\n\n    quickSort(generatedMappings, util.compareByGeneratedPositionsDeflated);\n    this.__generatedMappings = generatedMappings;\n\n    quickSort(originalMappings, util.compareByOriginalPositions);\n    this.__originalMappings = originalMappings;\n  };\n\n/**\n * Find the mapping that best matches the hypothetical \"needle\" mapping that\n * we are searching for in the given \"haystack\" of mappings.\n */\nBasicSourceMapConsumer.prototype._findMapping =\n  function SourceMapConsumer_findMapping(aNeedle, aMappings, aLineName,\n                                         aColumnName, aComparator, aBias) {\n    // To return the position we are searching for, we must first find the\n    // mapping for the given position and then return the opposite position it\n    // points to. Because the mappings are sorted, we can use binary search to\n    // find the best mapping.\n\n    if (aNeedle[aLineName] <= 0) {\n      throw new TypeError('Line must be greater than or equal to 1, got '\n                          + aNeedle[aLineName]);\n    }\n    if (aNeedle[aColumnName] < 0) {\n      throw new TypeError('Column must be greater than or equal to 0, got '\n                          + aNeedle[aColumnName]);\n    }\n\n    return binarySearch.search(aNeedle, aMappings, aComparator, aBias);\n  };\n\n/**\n * Compute the last column for each generated mapping. The last column is\n * inclusive.\n */\nBasicSourceMapConsumer.prototype.computeColumnSpans =\n  function SourceMapConsumer_computeColumnSpans() {\n    for (var index = 0; index < this._generatedMappings.length; ++index) {\n      var mapping = this._generatedMappings[index];\n\n      // Mappings do not contain a field for the last generated columnt. We\n      // can come up with an optimistic estimate, however, by assuming that\n      // mappings are contiguous (i.e. given two consecutive mappings, the\n      // first mapping ends where the second one starts).\n      if (index + 1 < this._generatedMappings.length) {\n        var nextMapping = this._generatedMappings[index + 1];\n\n        if (mapping.generatedLine === nextMapping.generatedLine) {\n          mapping.lastGeneratedColumn = nextMapping.generatedColumn - 1;\n          continue;\n        }\n      }\n\n      // The last mapping for each line spans the entire line.\n      mapping.lastGeneratedColumn = Infinity;\n    }\n  };\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.  The line number\n *     is 1-based.\n *   - column: The column number in the generated source.  The column\n *     number is 0-based.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.  The\n *     line number is 1-based.\n *   - column: The column number in the original source, or null.  The\n *     column number is 0-based.\n *   - name: The original identifier, or null.\n */\nBasicSourceMapConsumer.prototype.originalPositionFor =\n  function SourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._generatedMappings,\n      \"generatedLine\",\n      \"generatedColumn\",\n      util.compareByGeneratedPositionsDeflated,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._generatedMappings[index];\n\n      if (mapping.generatedLine === needle.generatedLine) {\n        var source = util.getArg(mapping, 'source', null);\n        if (source !== null) {\n          source = this._sources.at(source);\n          source = util.computeSourceURL(this.sourceRoot, source, this._sourceMapURL);\n        }\n        var name = util.getArg(mapping, 'name', null);\n        if (name !== null) {\n          name = this._names.at(name);\n        }\n        return {\n          source: source,\n          line: util.getArg(mapping, 'originalLine', null),\n          column: util.getArg(mapping, 'originalColumn', null),\n          name: name\n        };\n      }\n    }\n\n    return {\n      source: null,\n      line: null,\n      column: null,\n      name: null\n    };\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nBasicSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function BasicSourceMapConsumer_hasContentsOfAllSources() {\n    if (!this.sourcesContent) {\n      return false;\n    }\n    return this.sourcesContent.length >= this._sources.size() &&\n      !this.sourcesContent.some(function (sc) { return sc == null; });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nBasicSourceMapConsumer.prototype.sourceContentFor =\n  function SourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    if (!this.sourcesContent) {\n      return null;\n    }\n\n    var index = this._findSourceIndex(aSource);\n    if (index >= 0) {\n      return this.sourcesContent[index];\n    }\n\n    var relativeSource = aSource;\n    if (this.sourceRoot != null) {\n      relativeSource = util.relative(this.sourceRoot, relativeSource);\n    }\n\n    var url;\n    if (this.sourceRoot != null\n        && (url = util.urlParse(this.sourceRoot))) {\n      // XXX: file:// URIs and absolute paths lead to unexpected behavior for\n      // many users. We can help them out when they expect file:// URIs to\n      // behave like it would if they were running a local HTTP server. See\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=885597.\n      var fileUriAbsPath = relativeSource.replace(/^file:\\/\\//, \"\");\n      if (url.scheme == \"file\"\n          && this._sources.has(fileUriAbsPath)) {\n        return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)]\n      }\n\n      if ((!url.path || url.path == \"/\")\n          && this._sources.has(\"/\" + relativeSource)) {\n        return this.sourcesContent[this._sources.indexOf(\"/\" + relativeSource)];\n      }\n    }\n\n    // This function is used recursively from\n    // IndexedSourceMapConsumer.prototype.sourceContentFor. In that case, we\n    // don't want to throw if we can't find the source - we just want to\n    // return null, so we provide a flag to exit gracefully.\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + relativeSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.  The line number\n *     is 1-based.\n *   - column: The column number in the original source.  The column\n *     number is 0-based.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.  The\n *     line number is 1-based.\n *   - column: The column number in the generated source, or null.\n *     The column number is 0-based.\n */\nBasicSourceMapConsumer.prototype.generatedPositionFor =\n  function SourceMapConsumer_generatedPositionFor(aArgs) {\n    var source = util.getArg(aArgs, 'source');\n    source = this._findSourceIndex(source);\n    if (source < 0) {\n      return {\n        line: null,\n        column: null,\n        lastColumn: null\n      };\n    }\n\n    var needle = {\n      source: source,\n      originalLine: util.getArg(aArgs, 'line'),\n      originalColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._originalMappings,\n      \"originalLine\",\n      \"originalColumn\",\n      util.compareByOriginalPositions,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (mapping.source === needle.source) {\n        return {\n          line: util.getArg(mapping, 'generatedLine', null),\n          column: util.getArg(mapping, 'generatedColumn', null),\n          lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n        };\n      }\n    }\n\n    return {\n      line: null,\n      column: null,\n      lastColumn: null\n    };\n  };\n\nexports.BasicSourceMapConsumer = BasicSourceMapConsumer;\n\n/**\n * An IndexedSourceMapConsumer instance represents a parsed source map which\n * we can query for information. It differs from BasicSourceMapConsumer in\n * that it takes \"indexed\" source maps (i.e. ones with a \"sections\" field) as\n * input.\n *\n * The first parameter is a raw source map (either as a JSON string, or already\n * parsed to an object). According to the spec for indexed source maps, they\n * have the following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - file: Optional. The generated file this source map is associated with.\n *   - sections: A list of section definitions.\n *\n * Each value under the \"sections\" field has two fields:\n *   - offset: The offset into the original specified at which this section\n *       begins to apply, defined as an object with a \"line\" and \"column\"\n *       field.\n *   - map: A source map definition. This source map could also be indexed,\n *       but doesn't have to be.\n *\n * Instead of the \"map\" field, it's also possible to have a \"url\" field\n * specifying a URL to retrieve a source map from, but that's currently\n * unsupported.\n *\n * Here's an example source map, taken from the source map spec[0], but\n * modified to omit a section which uses the \"url\" field.\n *\n *  {\n *    version : 3,\n *    file: \"app.js\",\n *    sections: [{\n *      offset: {line:100, column:10},\n *      map: {\n *        version : 3,\n *        file: \"section.js\",\n *        sources: [\"foo.js\", \"bar.js\"],\n *        names: [\"src\", \"maps\", \"are\", \"fun\"],\n *        mappings: \"AAAA,E;;ABCDE;\"\n *      }\n *    }],\n *  }\n *\n * The second parameter, if given, is a string whose value is the URL\n * at which the source map was found.  This URL is used to compute the\n * sources array.\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.535es3xeprgt\n */\nfunction IndexedSourceMapConsumer(aSourceMap, aSourceMapURL) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sections = util.getArg(sourceMap, 'sections');\n\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n\n  var lastOffset = {\n    line: -1,\n    column: 0\n  };\n  this._sections = sections.map(function (s) {\n    if (s.url) {\n      // The url field will require support for asynchronicity.\n      // See https://github.com/mozilla/source-map/issues/16\n      throw new Error('Support for url field in sections not implemented.');\n    }\n    var offset = util.getArg(s, 'offset');\n    var offsetLine = util.getArg(offset, 'line');\n    var offsetColumn = util.getArg(offset, 'column');\n\n    if (offsetLine < lastOffset.line ||\n        (offsetLine === lastOffset.line && offsetColumn < lastOffset.column)) {\n      throw new Error('Section offsets must be ordered and non-overlapping.');\n    }\n    lastOffset = offset;\n\n    return {\n      generatedOffset: {\n        // The offset fields are 0-based, but we use 1-based indices when\n        // encoding/decoding from VLQ.\n        generatedLine: offsetLine + 1,\n        generatedColumn: offsetColumn + 1\n      },\n      consumer: new SourceMapConsumer(util.getArg(s, 'map'), aSourceMapURL)\n    }\n  });\n}\n\nIndexedSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nIndexedSourceMapConsumer.prototype.constructor = SourceMapConsumer;\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nIndexedSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(IndexedSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    var sources = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      for (var j = 0; j < this._sections[i].consumer.sources.length; j++) {\n        sources.push(this._sections[i].consumer.sources[j]);\n      }\n    }\n    return sources;\n  }\n});\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.  The line number\n *     is 1-based.\n *   - column: The column number in the generated source.  The column\n *     number is 0-based.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.  The\n *     line number is 1-based.\n *   - column: The column number in the original source, or null.  The\n *     column number is 0-based.\n *   - name: The original identifier, or null.\n */\nIndexedSourceMapConsumer.prototype.originalPositionFor =\n  function IndexedSourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    // Find the section containing the generated position we're trying to map\n    // to an original position.\n    var sectionIndex = binarySearch.search(needle, this._sections,\n      function(needle, section) {\n        var cmp = needle.generatedLine - section.generatedOffset.generatedLine;\n        if (cmp) {\n          return cmp;\n        }\n\n        return (needle.generatedColumn -\n                section.generatedOffset.generatedColumn);\n      });\n    var section = this._sections[sectionIndex];\n\n    if (!section) {\n      return {\n        source: null,\n        line: null,\n        column: null,\n        name: null\n      };\n    }\n\n    return section.consumer.originalPositionFor({\n      line: needle.generatedLine -\n        (section.generatedOffset.generatedLine - 1),\n      column: needle.generatedColumn -\n        (section.generatedOffset.generatedLine === needle.generatedLine\n         ? section.generatedOffset.generatedColumn - 1\n         : 0),\n      bias: aArgs.bias\n    });\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nIndexedSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function IndexedSourceMapConsumer_hasContentsOfAllSources() {\n    return this._sections.every(function (s) {\n      return s.consumer.hasContentsOfAllSources();\n    });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nIndexedSourceMapConsumer.prototype.sourceContentFor =\n  function IndexedSourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      var content = section.consumer.sourceContentFor(aSource, true);\n      if (content) {\n        return content;\n      }\n    }\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.  The line number\n *     is 1-based.\n *   - column: The column number in the original source.  The column\n *     number is 0-based.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.  The\n *     line number is 1-based. \n *   - column: The column number in the generated source, or null.\n *     The column number is 0-based.\n */\nIndexedSourceMapConsumer.prototype.generatedPositionFor =\n  function IndexedSourceMapConsumer_generatedPositionFor(aArgs) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      // Only consider this section if the requested source is in the list of\n      // sources of the consumer.\n      if (section.consumer._findSourceIndex(util.getArg(aArgs, 'source')) === -1) {\n        continue;\n      }\n      var generatedPosition = section.consumer.generatedPositionFor(aArgs);\n      if (generatedPosition) {\n        var ret = {\n          line: generatedPosition.line +\n            (section.generatedOffset.generatedLine - 1),\n          column: generatedPosition.column +\n            (section.generatedOffset.generatedLine === generatedPosition.line\n             ? section.generatedOffset.generatedColumn - 1\n             : 0)\n        };\n        return ret;\n      }\n    }\n\n    return {\n      line: null,\n      column: null\n    };\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nIndexedSourceMapConsumer.prototype._parseMappings =\n  function IndexedSourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    this.__generatedMappings = [];\n    this.__originalMappings = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n      var sectionMappings = section.consumer._generatedMappings;\n      for (var j = 0; j < sectionMappings.length; j++) {\n        var mapping = sectionMappings[j];\n\n        var source = section.consumer._sources.at(mapping.source);\n        source = util.computeSourceURL(section.consumer.sourceRoot, source, this._sourceMapURL);\n        this._sources.add(source);\n        source = this._sources.indexOf(source);\n\n        var name = null;\n        if (mapping.name) {\n          name = section.consumer._names.at(mapping.name);\n          this._names.add(name);\n          name = this._names.indexOf(name);\n        }\n\n        // The mappings coming from the consumer for the section have\n        // generated positions relative to the start of the section, so we\n        // need to offset them to be relative to the start of the concatenated\n        // generated file.\n        var adjustedMapping = {\n          source: source,\n          generatedLine: mapping.generatedLine +\n            (section.generatedOffset.generatedLine - 1),\n          generatedColumn: mapping.generatedColumn +\n            (section.generatedOffset.generatedLine === mapping.generatedLine\n            ? section.generatedOffset.generatedColumn - 1\n            : 0),\n          originalLine: mapping.originalLine,\n          originalColumn: mapping.originalColumn,\n          name: name\n        };\n\n        this.__generatedMappings.push(adjustedMapping);\n        if (typeof adjustedMapping.originalLine === 'number') {\n          this.__originalMappings.push(adjustedMapping);\n        }\n      }\n    }\n\n    quickSort(this.__generatedMappings, util.compareByGeneratedPositionsDeflated);\n    quickSort(this.__originalMappings, util.compareByOriginalPositions);\n  };\n\nexports.IndexedSourceMapConsumer = IndexedSourceMapConsumer;\n","/*\n * Copyright 2009-2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE.txt or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nexports.SourceMapGenerator = require('./lib/source-map-generator').SourceMapGenerator;\nexports.SourceMapConsumer = require('./lib/source-map-consumer').SourceMapConsumer;\nexports.SourceNode = require('./lib/source-node').SourceNode;\n","// tslint:disable:no-conditional-assignment\r\nimport { SourceMapConsumer } from \"source-map\";\r\n\r\nexport class ErrorMapper {\r\n  // Cache consumer\r\n  private static _consumer?: SourceMapConsumer;\r\n\r\n  public static get consumer(): SourceMapConsumer {\r\n    if (this._consumer == null) {\r\n      this._consumer = new SourceMapConsumer(require(\"main.js.map\"));\r\n    }\r\n\r\n    return this._consumer;\r\n  }\r\n\r\n  // Cache previously mapped traces to improve performance\r\n  public static cache: { [key: string]: string } = {};\r\n\r\n  /**\r\n   * Generates a stack trace using a source map generate original symbol names.\r\n   *\r\n   * WARNING - EXTREMELY high CPU cost for first call after reset - >30 CPU! Use sparingly!\r\n   * (Consecutive calls after a reset are more reasonable, ~0.1 CPU/ea)\r\n   *\r\n   * @param {Error | string} error The error or original stack trace\r\n   * @returns {string} The source-mapped stack trace\r\n   */\r\n  public static sourceMappedStackTrace(error: Error | string): string {\r\n    const stack: string = error instanceof Error ? (error.stack as string) : error;\r\n    if (this.cache.hasOwnProperty(stack)) {\r\n      return this.cache[stack];\r\n    }\r\n\r\n    const re = /^\\s+at\\s+(.+?\\s+)?\\(?([0-z._\\-\\\\\\/]+):(\\d+):(\\d+)\\)?$/gm;\r\n    let match: RegExpExecArray | null;\r\n    let outStack = error.toString();\r\n\r\n    while ((match = re.exec(stack))) {\r\n      if (match[2] === \"main\") {\r\n        const pos = this.consumer.originalPositionFor({\r\n          column: parseInt(match[4], 10),\r\n          line: parseInt(match[3], 10)\r\n        });\r\n\r\n        if (pos.line != null) {\r\n          if (pos.name) {\r\n            outStack += `\\n    at ${pos.name} (${pos.source}:${pos.line}:${pos.column})`;\r\n          } else {\r\n            if (match[1]) {\r\n              // no original source file name known - use file name from given trace\r\n              outStack += `\\n    at ${match[1]} (${pos.source}:${pos.line}:${pos.column})`;\r\n            } else {\r\n              // no original source file name known or in given trace - omit name\r\n              outStack += `\\n    at ${pos.source}:${pos.line}:${pos.column}`;\r\n            }\r\n          }\r\n        } else {\r\n          // no known position\r\n          break;\r\n        }\r\n      } else {\r\n        // no more parseable lines\r\n        break;\r\n      }\r\n    }\r\n\r\n    this.cache[stack] = outStack;\r\n    return outStack;\r\n  }\r\n\r\n  public static wrapLoop(loop: () => void): () => void {\r\n    return () => {\r\n      try {\r\n        loop();\r\n      } catch (e) {\r\n        if (e instanceof Error) {\r\n          if (\"sim\" in Game.rooms) {\r\n            const message = `Source maps don't work in the simulator - displaying original error`;\r\n            console.log(`<span style='color:red'>${message}<br>${_.escape(e.stack)}</span>`);\r\n          } else {\r\n            console.log(`<span style='color:red'>${_.escape(this.sourceMappedStackTrace(e))}</span>`);\r\n          }\r\n        } else {\r\n          // can't handle it\r\n          throw e;\r\n        }\r\n      }\r\n    };\r\n  }\r\n}\r\n","import { ERROR_FATAL, ERROR_ERROR, ERROR_WARN, COLORS } from \"utils/Constants\";\r\nimport { ALLOW_CUSTOM_ERRORS } from \"utils/config\";\r\nimport UserException from \"utils/UserException\";\r\n\r\nexport default class UtilHelper {\r\n    /**\r\n     * Display an error to the console\r\n     * @param e Either a UserException or an Error\r\n     */\r\n    public static printError(\r\n        e: UserException | Error\r\n    ): void {\r\n        if(e instanceof UserException){\r\n            console.log('<font color=\"' + e.titleColor + '\">' + e.title + \"</font>\");\r\n            console.log('<font color=\"' + e.bodyColor + '\">' + e.body + \"</font>\");\r\n        }\r\n        else{\r\n            console.log(\"Unexpected error, see the details below: \");\r\n            console.log(e.stack);\r\n        }\r\n    }\r\n}\r\n","/*\r\n  Kung Fu Klan's Screeps Code\r\n  Written and maintained by -\r\n    Jakesboy2\r\n    UhmBrock\r\n\r\n  Starting Jan 2019\r\n*/\r\n\r\n// ------ end imports\r\n// @ts-ignore\r\nimport ConsoleCommands from \"Helpers/ConsoleCommands\";\r\n// @ts-ignore\r\nimport EmpireManager from \"Managers/EmpireManager\";\r\n// @ts-ignore\r\nimport MemoryManager from \"Managers/MemoryManagement\";\r\n// @ts-ignore\r\nimport RoomManager from \"Managers/RoomManager\";\r\n// @ts-ignore\r\nimport SpawnManager from \"Managers/SpawnManager\";\r\n// @ts-ignore\r\nimport { ErrorMapper } from \"utils/ErrorMapper\";\r\n// @ts-ignore\r\nimport UtilHelper from \"Helpers/UtilHelper\";\r\n\r\nimport { ERROR_FATAL, ERROR_ERROR, ERROR_INFO, ERROR_WARN } from \"utils/Constants\";\r\n\r\nexport const loop = ErrorMapper.wrapLoop(() => {\r\n    try {\r\n        // clean up memory first\r\n        MemoryManager.runMemoryManager();\r\n\r\n        // run the empire and get all relevant info from that into memory\r\n        EmpireManager.runEmpireManager();\r\n\r\n        // run rooms\r\n        RoomManager.runRoomManager();\r\n\r\n        // run spawning\r\n        SpawnManager.runSpawnManager();\r\n    } catch (e) {\r\n        UtilHelper.printError(e);\r\n    }\r\n    // -------- end managers --------\r\n});\r\n"],"names":["STRUCT_CACHE_TTL","ERROR_FATAL","ERROR_ERROR","ERROR_WARN","ERROR_INFO","COLORS","MemoryHelperRoom","ArraySet","require$$0","quickSort","require$$1","base64VLQ","SourceMapConsumer"],"mappings":"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"};